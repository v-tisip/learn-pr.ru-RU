Предположим, что вас попросили создать систему на платформе Azure и оценить, сколько будет стоит ее работа в течение следующих 12 месяцев. Вы уже знаете, что на Azure действует прозрачная система цен, и получаете ежемесячный счет только за службы, которые используете. Как оценить стоимость без развертывания и запуска этих служб или расчета цен из прейскуранта Azure вручную? 

## <a name="introducing-the-azure-pricing-calculator"></a>Общие сведения о калькуляторе стоимости Azure

Чтобы упростить оценку для клиентов, корпорация Майкрософт разработала **калькулятор стоимости Azure**. Калькулятор стоимости Azure — это бесплатное веб-средство, где можно указывать службы Azure и менять свойства и параметры этих служб. Он выводит затраты для каждой службы и общую стоимость всей системы.

В другом окне или вкладке браузера перейдите к [калькулятору стоимости Azure](https://azure.microsoft.com/pricing/calculator/). На странице калькулятора стоимости есть три вкладки:

1. **Продукты.** В основном вы будете работать на этой вкладке. Эта вкладка содержит все указанные службы Azure. Здесь выполняется добавление или удаление служб для формулировки оценки.
2. **Расчет стоимости.** Эта вкладка содержит все сохраненные ранее расчеты. Мы разберем этот процесс чуть позже.
3. **Часто задаваемые вопросы.** Как следует из названия, эта вкладка содержит ответы на некоторые часто задаваемые вопросы.

Давайте начнем с вкладки **Продукты**. Слева вы увидите полный список категорий служб. Нажмите на любую категорию, чтобы просмотреть службы в этой категории. Здесь есть поле поиска, где можно просмотреть все службы для желаемой услуги. Нажмите на службу, чтобы добавить ее в расчет стоимости. Вы можете добавить одну или сколько угодно служб, в том числе несколько одинаковых служб (например, несколько виртуальных машин). 

Когда вы добавите все службы, вы сможете рассчитать их стоимость. Прокрутите страницу вниз и просмотрите настраиваемые параметры для службы, которые влияют на цену. Например, для виртуальных машин можно выбрать такие параметры, как регион, операционная система и размер экземпляра — все они влияют на стоимость виртуальной машины. Вы увидите подытог для этой службы. Прокрутите еще ниже и увидите общий итог для всех служб, включенных в расчет. Рядом с общим итогом находятся кнопки для экспорта, сохранения и отправки расчета.

## <a name="estimate-a-solution"></a>Оценка стоимости решения

Если вспомнить о нашем изначальном сценарии, предположим, что эта система будет выполняться на двух виртуальных машинах Azure и будет подключена к экземпляру базы данных SQL Azure. Нам также нужен брандмауэр уровня 7, чтобы использовать следующие расширенные возможности балансировки нагрузки:

![Схема архитектуры системы](../images/estimate-costs-architecture.png)

Мы можем использовать калькулятор стоимости Azure, чтобы выяснить, во что нам обойдется решение, а затем экспортировать расчет, чтобы показать его команде.

> [!NOTE]
> Убедитесь, что калькулятор очищен и в расчете ничего нет. Если в расчете указаны службы, нажмите на значок корзины для каждого элемента, чтобы сбросить расчет.

В калькуляторе стоимости Azure на вкладке **Продукты** нажмите на следующие службы, чтобы добавить их в расчет:

- Виртуальные машины
- Базы данных SQL Azure
- Шлюз приложений

Мы можем настроить параметры для каждой на вкладке **Расчет стоимости**, чтобы получить достоверный расчет стоимости. Выберите регион **Западная часть США** для всех ресурсов.

* **Виртуальные машины.** Это приложение ASP.NET, поэтому нам нужно будет использовать виртуальную машину **Windows**. Это приложение не требует большой вычислительной мощности, поэтому выберите размер экземпляра **D2v3**. Нам потребуется две виртуальные машины, и они будут работать постоянно (730 часов в месяц). Мы будем использовать хранилище SSD класса премиум для этих виртуальных машин, и нам потребуется всего один диск на виртуальную машину размера **E10**, в сумме два диска. 

* **База данных SQL.** Для базы данных мы подготовим **единый тип базы данных** с помощью **модели виртуального ядра**. Нам нужна база данных общего назначения четвертого поколения с четырьмя виртуальными ядрами. Нам потребуется 32 ГБ памяти, и мы будем хранить примерно 16 ГБ данных. Наша политика хранения будет рассчитана на восемь недель, 12 месяцев и пять лет. 

* **Шлюз приложений.** В качестве шлюза приложений мы будем использовать брандмауэр на уровне веб-приложения, чтобы у среды была какая-то защита. И нам понадобится всего два экземпляра и средний размер, так как нагрузки будут невысокими. Мы будем обрабатывать примерно 1 ТБ данных в месяц.

В расчете вы увидите расходы на каждую добавленную службу и общую сумму за все службы. В этом случае расчетная стоимость составит около **1400,00 долларов США в месяц**. Попробуйте изменить некоторые параметры и понаблюдать за изменениями суммы.

## <a name="share-and-save-your-estimate"></a>Сохранение расчета и его отправка команде

Теперь у нас есть расчет стоимости для нашего решения. Мы можем сохранить этот расчет, вернуться к нему позже и при необходимости внести изменения, экспортировать его в Excel для дальнейшего анализа или отправить на него ссылку. 

Чтобы экспортировать расчет, нажмите `Export` в нижней части. Расчет будет загружен в формате Excel (**.xlsx**). В нем будут указаны все добавленные службы.

Мы можем поделиться электронной таблицей Excel или нажать на кнопку `Share` в калькуляторе. Вы получите URL-адрес расчета, который можно отправить другим. Любой пользователь может перейти к расчету по этой ссылке.

Если вы вошли с использованием учетной записи Azure, вы можете сохранить расчет и вернуться к нему позже. Нажмите кнопку **Сохранить**. Если вы вошли в систему, вы увидите уведомление о сохранении расчета. Если вы не выполнили вход, вы увидите предложение войти и сохранить расчет. После сохранения расчета вернитесь в верхнюю часть страницы и откройте вкладку **Расчет стоимости**. Там отображается расчет стоимости. Вы можете выбрать его и извлечь или удалить, если он вам больше не нужен.

## <a name="summary"></a>Сводка

Мы рассчитали стоимость нескольких служб Azure, не потратив ничего. Мы ничего не создавали и получили удобный для отправки расчет, который мы впоследствии можем анализировать или корректировать. Мы можем использовать этот инструмент не только для расчета стоимости систем, примерная конфигурация которых нам известна, но и для сравнения стоимости различных служб. Например, Microsoft SQL Server на виртуальной машине и база данных SQL Azure. Теперь давайте посмотрим, как проанализировать расходы на службы, которые мы уже развернули.