<span data-ttu-id="ac271-101">В этом модуле вы создадите кроссплатформенное приложение Xamarin.Forms с бессерверной внутренней частью.</span><span class="sxs-lookup"><span data-stu-id="ac271-101">In this module, you'll create a cross-platform Xamarin.Forms app with a serverless back end.</span></span> <span data-ttu-id="ac271-102">Это приложение будет получать сведения о местоположении пользователей и их устройств и отправлять со списком телефонных номеров в функцию Azure.</span><span class="sxs-lookup"><span data-stu-id="ac271-102">This app will get the user's location from their device and send it with a list of phone numbers to an Azure function.</span></span> <span data-ttu-id="ac271-103">Затем функция будет использовать привязку к сторонней службе (Twilio) для отправки сведений о местоположении в SMS-сообщении на все указанные телефонные номера.</span><span class="sxs-lookup"><span data-stu-id="ac271-103">The function will then use a binding to a third-party service (Twilio) to send your location as an SMS message to all the phone numbers provided.</span></span>

<span data-ttu-id="ac271-104">На следующей схеме показана используемая архитектура.</span><span class="sxs-lookup"><span data-stu-id="ac271-104">The following diagram shows the architecture used:</span></span>

1. <span data-ttu-id="ac271-105">Приложение фиксирует ваше расположение с помощью Xamarin.Essentials в виде абстракции, используя зависящие от устройства API определения местоположения.</span><span class="sxs-lookup"><span data-stu-id="ac271-105">The app captures your location using Xamarin.Essentials as an abstraction over device-specific location APIs.</span></span>
2. <span data-ttu-id="ac271-106">Сведения о местоположении и телефонные номера упаковываются в полезные данные JSON и отправляются в функцию Azure.</span><span class="sxs-lookup"><span data-stu-id="ac271-106">The location and phone numbers are packaged up into a JSON payload and sent to an Azure function.</span></span>
3. <span data-ttu-id="ac271-107">Функция Azure расшифровывает полезные данные JSON и создает SMS-сообщения.</span><span class="sxs-lookup"><span data-stu-id="ac271-107">The Azure function decodes the JSON payload and creates SMS messages.</span></span>
4. <span data-ttu-id="ac271-108">SMS-сообщения отправляются через [Twilio](http://twilio.com).</span><span class="sxs-lookup"><span data-stu-id="ac271-108">The SMS messages are sent via [Twilio](http://twilio.com).</span></span>

![Схема архитектуры решения](../media-drafts/1-architecture.png)

## <a name="create-a-twilio-account"></a><span data-ttu-id="ac271-110">Создание учетной записи Twilio</span><span class="sxs-lookup"><span data-stu-id="ac271-110">Create a Twilio account</span></span>

<span data-ttu-id="ac271-111">Для отправки SMS-сообщений из функции Azure требуется учетная запись Twilio.</span><span class="sxs-lookup"><span data-stu-id="ac271-111">To be able to send SMS messages from an Azure function, you'll need a Twilio account.</span></span> <span data-ttu-id="ac271-112">Чтобы приступить к работе, будет достаточно бесплатной учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ac271-112">The free account is more than enough to get started.</span></span>

1. <span data-ttu-id="ac271-113">Перейдите на сайт [twilio.com](https://twilio.com).</span><span class="sxs-lookup"><span data-stu-id="ac271-113">Head to [twilio.com](https://twilio.com).</span></span>
2. <span data-ttu-id="ac271-114">В правом верхнем углу нажмите красную кнопку **Sign Up** (Зарегистрироваться).</span><span class="sxs-lookup"><span data-stu-id="ac271-114">Click the red **Sign Up** button in the top-right corner.</span></span>
3. <span data-ttu-id="ac271-115">Введите свои данные и нажмите кнопку **Get Started** (Приступить к работе).</span><span class="sxs-lookup"><span data-stu-id="ac271-115">Fill in your details and click **Get Started**.</span></span>
4. <span data-ttu-id="ac271-116">Нужно будет подтвердить номер телефона.</span><span class="sxs-lookup"><span data-stu-id="ac271-116">You'll need to verify your phone number.</span></span> <span data-ttu-id="ac271-117">Бесплатные учетные записи Twilio позволяют отправлять сообщения только на проверенные телефонные номера, чтобы защитить их от спама.</span><span class="sxs-lookup"><span data-stu-id="ac271-117">Twilio free accounts let you send messages only to verified phone numbers to stop them being used for spam.</span></span> <span data-ttu-id="ac271-118">Twilio отправит вам код подтверждения, который необходимо ввести для проверки телефонного номера.</span><span class="sxs-lookup"><span data-stu-id="ac271-118">Twilio will send you a verification code that you need to enter to verify your phone.</span></span>
5. <span data-ttu-id="ac271-119">Укажите имя первого проекта, например "I'm here".</span><span class="sxs-lookup"><span data-stu-id="ac271-119">Provide a name for your first project, such as "I'm here".</span></span>
6. <span data-ttu-id="ac271-120">На панели мониторинга Twilio для обмена сообщениями в левой части щелкните значок **Панель мониторинга консоли** (со значком домашней страницы) и разверните панель **Сведения о проекте**.</span><span class="sxs-lookup"><span data-stu-id="ac271-120">From the Twilio messaging dashboard, click the **Console Dashboard** icon on the left (it has a home icon) and expand the **Project Info** panel.</span></span> <span data-ttu-id="ac271-121">Запишите значения, указанные в полях **КОД БЕЗОПАСНОСТИ УЧЕТНОЙ ЗАПИСИ** и **МАРКЕР ПРОВЕРКИ ПОДЛИННОСТИ**, так как они понадобятся вам позже.</span><span class="sxs-lookup"><span data-stu-id="ac271-121">Take note of your **ACCOUNT SID** and **AUTH TOKEN** because you will need these values later.</span></span>

## <a name="launch-visual-studio"></a><span data-ttu-id="ac271-122">Запустите Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ac271-122">Launch Visual Studio</span></span>

<span data-ttu-id="ac271-123">Для выполнения этого модуля вы разработаете мобильное приложение и приложение функций Azure с помощью среды Visual Studio 2017, доступной на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="ac271-123">For this module, you'll develop the mobile app and Azure Functions app using Visual Studio 2017, available via a virtual machine.</span></span> <span data-ttu-id="ac271-124">Несмотря на то, что приложения Xamarin.Forms можно создать для работы в ОС iOS, Android и на универсальной платформе Windows (UWP), в этом модуле будет рассматриваться только UWP, что позволит использовать лабораторную виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="ac271-124">Although Xamarin.Forms apps can be built to run on iOS, Android, and Universal Windows Platform (UWP), this module will just focus on UWP so that it works inside the lab virtual machine.</span></span> <span data-ttu-id="ac271-125">Все особенности, касающиеся других платформ, можно будет изучить по предоставленным ссылкам.</span><span class="sxs-lookup"><span data-stu-id="ac271-125">Links will be provided for anything specific to the other platforms.</span></span>

<!-- TODO - add HoL link button here -->

<span data-ttu-id="ac271-126">Если у вас уже есть установленная локально среда Visual Studio, выполняйте действия в этом модуле в этой локальной установке.</span><span class="sxs-lookup"><span data-stu-id="ac271-126">If you already have Visual Studio installed locally, then you can follow this module using your local install.</span></span> <span data-ttu-id="ac271-127">При наличии правильной конфигурации установку можно запустить в ОС Android и iOS, а также на платформе UWP.</span><span class="sxs-lookup"><span data-stu-id="ac271-127">You can run it on Android and iOS, as well as UWP, if you have the right configuration.</span></span> <span data-ttu-id="ac271-128">Обратитесь к [документации по установке Xamarin](https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/windows), чтобы убедиться в наличии требуемых рабочих нагрузок и пакетов SDK, и просмотрите [документацию по установке UWP](https://docs.microsoft.com/visualstudio/cross-platform/develop-apps-for-the-universal-windows-platform-uwp#requirements), чтобы проверить наличие нужного пакета SDK для UWP.</span><span class="sxs-lookup"><span data-stu-id="ac271-128">Check the [Xamarin installation docs](https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/windows) to make sure you have the correct workloads and SDKs installed, and the [UWP installation docs](https://docs.microsoft.com/visualstudio/cross-platform/develop-apps-for-the-universal-windows-platform-uwp#requirements) for the UWP SDK.</span></span> <span data-ttu-id="ac271-129">Чтобы создавать проекты функций Azure, вам также потребуется установить рабочую нагрузку [Разработка для Azure](https://docs.microsoft.com/azure/azure-functions/functions-develop-vs#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="ac271-129">You will also need the [Azure Development](https://docs.microsoft.com/azure/azure-functions/functions-develop-vs#prerequisites) workload installed to allow creating Azure Functions projects.</span></span>

<span data-ttu-id="ac271-130">Если вы хотите выполнять действия в этом модуле в macOS с помощью Visual Studio для Mac, вы не сможете создать проект UWP и вам придется изменить целевую платформу на IOS или Android.</span><span class="sxs-lookup"><span data-stu-id="ac271-130">If you want to follow this module on macOS using Visual Studio for Mac, then you won't be able to create the UWP project, and will have to target iOS or Android.</span></span> <span data-ttu-id="ac271-131">Инструкции по установке Visual Studio для Mac см. в [документации по Xamarin](https://docs.microsoft.com/visualstudio/cross-platform/setup-and-install#mac-setup-apple-id-xcode-and-xamarin). Действия, которые потребуется выполнить для создания и публикации приложения, могут отличаться от приведенных в этом модуле.</span><span class="sxs-lookup"><span data-stu-id="ac271-131">You can find the installation instructions for Visual Studio for Mac in the [Xamarin docs](https://docs.microsoft.com/visualstudio/cross-platform/setup-and-install#mac-setup-apple-id-xcode-and-xamarin). The steps you will need to take to build and publish the app may also be different from those given in this module.</span></span>

## <a name="summary"></a><span data-ttu-id="ac271-132">Сводка</span><span class="sxs-lookup"><span data-stu-id="ac271-132">Summary</span></span>

<span data-ttu-id="ac271-133">В этом блоке вы создали учетную записи Twilio для отправки SMS-сообщений и запустили Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ac271-133">In this unit, you created a Twilio account to use to send SMS messages and launched Visual Studio.</span></span> <span data-ttu-id="ac271-134">Далее вы узнаете, как создать приложение Xamarin.Forms и добавить пакет Xamarin.Essentials NuGet.</span><span class="sxs-lookup"><span data-stu-id="ac271-134">Next, you learn how to create a Xamarin.Forms app and add the Xamarin.Essentials NuGet package.</span></span>