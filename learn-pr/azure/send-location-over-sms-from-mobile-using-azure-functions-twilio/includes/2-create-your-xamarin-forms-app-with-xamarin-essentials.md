<span data-ttu-id="892d5-101">Вы создаете кроссплатформенное мобильное приложение, которое взаимодействует с функцией Azure и сообщает ваше местоположение.</span><span class="sxs-lookup"><span data-stu-id="892d5-101">The application you're building is a cross-platform mobile app that talks to an Azure function to share your location.</span></span> <span data-ttu-id="892d5-102">В этом модуле вы создадите пустое мобильное приложение с помощью Visual Studio и установите пакет NuGet, который имеет API для получения данных о местоположении пользователя.</span><span class="sxs-lookup"><span data-stu-id="892d5-102">In this unit, you create the blank mobile app using Visual Studio and install a NuGet package that has an API for getting the user's location.</span></span>

## <a name="create-the-xamarinforms-project"></a><span data-ttu-id="892d5-103">Создание проекта Xamarin.Forms</span><span class="sxs-lookup"><span data-stu-id="892d5-103">Create the Xamarin.Forms project</span></span>

1. <span data-ttu-id="892d5-104">В Visual Studio выберите *Файл->Создать->Проект...*.</span><span class="sxs-lookup"><span data-stu-id="892d5-104">From Visual Studio, select *File->New->Project...*.</span></span>

2. <span data-ttu-id="892d5-105">В дереве в левой части окна выберите *Visual C#-> Кроссплатформенные*, а затем выберите *Мобильное приложение (Xamarin.Forms)* на панели в центре.</span><span class="sxs-lookup"><span data-stu-id="892d5-105">From the tree on the left-hand side, select *Visual C#->Cross-Platform* and then select *Mobile App (Xamarin.Forms)* from the panel in the center.</span></span>

3. <span data-ttu-id="892d5-106">Назовите решение "ImHere".</span><span class="sxs-lookup"><span data-stu-id="892d5-106">Name the solution "ImHere".</span></span>

4. <span data-ttu-id="892d5-107">Выберите соответствующее местоположение для решения.</span><span class="sxs-lookup"><span data-stu-id="892d5-107">Choose an appropriate location for the solution.</span></span>

    > <span data-ttu-id="892d5-108">Если вы выполняете этот модуль локально на Windows и планируете создание приложения для Android, убедитесь в том, что путь указан максимально кратко.</span><span class="sxs-lookup"><span data-stu-id="892d5-108">If you are running this module locally on Windows and are planning on building for Android, then make sure the path is as short as possible.</span></span> <span data-ttu-id="892d5-109">В пакете SDK для Android существуют ограничения на длину пути, поэтому путь к корневому каталогу должен быть максимально коротким.</span><span class="sxs-lookup"><span data-stu-id="892d5-109">There are path length limitations with the Android SDK, so your root path should be as short as possible.</span></span>

5. <span data-ttu-id="892d5-110">Последовательно выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="892d5-110">Click **OK**.</span></span>

    ![Диалоговое окно нового решения](../media/2-new-solution-dialog.png)

6. <span data-ttu-id="892d5-112">В диалоговом окне **Новое кроссплатформенное приложение** выберите шаблон *Пустое приложение*.</span><span class="sxs-lookup"><span data-stu-id="892d5-112">From the **New Cross Platform App** dialog, select the *Blank App* template.</span></span>

7. <span data-ttu-id="892d5-113">В этом модуле вы создадите приложение универсальной платформы Windows, поэтому снимите флажки iOS и Android и оставьте флажок UWP.</span><span class="sxs-lookup"><span data-stu-id="892d5-113">For this module you will build a UWP app, so uncheck iOS and Android and leave UWP checked.</span></span>

    > <span data-ttu-id="892d5-114">Если вы работаете локально, то можно оставить флажок Android, так как пакет SDK для Android устанавливается как часть рабочей нагрузки *Разработка мобильных приложений с помощью .NET* в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="892d5-114">If you are running this locally, then you can leave Android checked because the Android SDK is installed as part of the *Mobile Development With .NET* workload inside Visual Studio.</span></span> <span data-ttu-id="892d5-115">Если вы хотите создать приложение для iOS, необходимо подключиться к агенту сборки macOS.</span><span class="sxs-lookup"><span data-stu-id="892d5-115">If you also want to build for iOS, you will need to pair to a macOS build agent.</span></span> <span data-ttu-id="892d5-116">Дополнительные сведения об этом читайте в [документации по Xamarin iOS](https://docs.microsoft.com/xamarin/ios/get-started/installation/windows/connecting-to-mac/).</span><span class="sxs-lookup"><span data-stu-id="892d5-116">You can read more on this in the [Xamarin iOS docs](https://docs.microsoft.com/xamarin/ios/get-started/installation/windows/connecting-to-mac/).</span></span>

8. <span data-ttu-id="892d5-117">Для параметра *Стратегия совместного использования кода* выберите **.NET Standard**.</span><span class="sxs-lookup"><span data-stu-id="892d5-117">For the *Code Sharing Strategy*, select **.NET Standard**.</span></span>

9. <span data-ttu-id="892d5-118">Последовательно выберите **ОК**.</span><span class="sxs-lookup"><span data-stu-id="892d5-118">Click **OK**.</span></span>

    ![Диалоговое окно настройки нового решения](../media/2-configure-solution-dialog.png)

<span data-ttu-id="892d5-120">Visual Studio создаст два проекта — приложение UWP с именем `ImHere.UWP` и стандартную библиотеку .NET `ImHere`.</span><span class="sxs-lookup"><span data-stu-id="892d5-120">Visual Studio will create two projects for you - a UWP app called `ImHere.UWP` and a .NET standard library, `ImHere`.</span></span> <span data-ttu-id="892d5-121">Приложения Xamarin.Forms состоят из двух частей — один или несколько проектов приложений для конкретной платформы и одна или несколько стандартных библиотек .NET.</span><span class="sxs-lookup"><span data-stu-id="892d5-121">Xamarin.Forms apps are made up of two parts - one or more platform-specific app projects and one (or more) .NET standard libraries.</span></span> <span data-ttu-id="892d5-122">Проекты приложений для конкретных платформ содержат код конкретной платформы, необходимый для запуска приложения на этой платформе.</span><span class="sxs-lookup"><span data-stu-id="892d5-122">The platform-specific app projects contain the platform-specific code needed to run an app on the relevant platform.</span></span> <span data-ttu-id="892d5-123">Эти проекты запускают приложение Xamarin.Forms, которое определено в кроссплатформенной стандартной библиотеке .NET.</span><span class="sxs-lookup"><span data-stu-id="892d5-123">These projects then launch a Xamarin.Forms app that is defined in a cross-platform .NET standard library.</span></span> <span data-ttu-id="892d5-124">Вы создаете приложение на кроссплатформенном коде, и во время выполнения любые создаваемые вами пользовательские интерфейсы преобразуются в соответствующие компоненты пользовательского интерфейса определенной платформы.</span><span class="sxs-lookup"><span data-stu-id="892d5-124">You build your app in cross-platform code and, at runtime, any user interfaces you create are translated into the relevant platform-specific UI components.</span></span>

## <a name="adding-xamarinessentials"></a><span data-ttu-id="892d5-125">Добавление Xamarin.Essentials</span><span class="sxs-lookup"><span data-stu-id="892d5-125">Adding Xamarin.Essentials</span></span>

<span data-ttu-id="892d5-126">Платформы UWP, Android и iOS предоставляют многочисленные аналогичные возможности, которые используют преимущества операционной системы и оборудования.</span><span class="sxs-lookup"><span data-stu-id="892d5-126">The UWP, Android, and iOS platforms provide numerous similar capabilities that take advantage of the operating system and hardware.</span></span> <span data-ttu-id="892d5-127">Несмотря на эти сходства, API-интерфейсы сильно отличаются.</span><span class="sxs-lookup"><span data-stu-id="892d5-127">Despite these similarities, the APIs are very different.</span></span> <span data-ttu-id="892d5-128">Для использования этих API из кроссплатформенного кода требуется написать код для конкретной платформы в проекте приложения, которые вы предоставляете стандартным библиотекам .NET.</span><span class="sxs-lookup"><span data-stu-id="892d5-128">Using these APIs from cross-platform code requires writing platform-specific code in your app projects that you expose to your .NET standard libraries.</span></span> <span data-ttu-id="892d5-129">[Xamarin.Essentials](https://docs.microsoft.com/xamarin/essentials/) — это пакет NuGet, который обеспечивает кроссплатформенную абстракцию для нескольких API, включая API геолокации, которые вы будете использовать в приложении для получения данных о местоположении пользователя.</span><span class="sxs-lookup"><span data-stu-id="892d5-129">[Xamarin.Essentials](https://docs.microsoft.com/xamarin/essentials/) is a NuGet package that provides a cross-platform abstraction over a number of these APIs, including the geolocation APIs that you will use in your app to get the user's location.</span></span>

1. <span data-ttu-id="892d5-130">В области обозревателя решений в Visual Studio щелкните правой кнопкой мыши решение `ImHere` и выберите пункт *Управление пакетами NuGet для решения...*.</span><span class="sxs-lookup"><span data-stu-id="892d5-130">Right-click on the `ImHere` solution in the Visual Studio Solution Explorer and select *Manage NuGet Packages for Solution...*.</span></span>

2. <span data-ttu-id="892d5-131">Выберите вкладку **Обзор** и найдите "Xamarin.Essentials".</span><span class="sxs-lookup"><span data-stu-id="892d5-131">Select the **Browse** tab and search for "Xamarin.Essentials".</span></span> <span data-ttu-id="892d5-132">Этот пакет в настоящее время доступен как предварительный выпуск пакета NuGet, поэтому поставьте флажок *Включить предварительный выпуск*.</span><span class="sxs-lookup"><span data-stu-id="892d5-132">This package is currently available as a prerelease NuGet package, so check the *include prelease* box.</span></span>

3. <span data-ttu-id="892d5-133">Выберите пакет NuGet **Xamarin.Essentials**.</span><span class="sxs-lookup"><span data-stu-id="892d5-133">Select the **Xamarin.Essentials** NuGet package.</span></span>

4. <span data-ttu-id="892d5-134">Отметьте флажком все ваши проекты в списке проектов в области справа.</span><span class="sxs-lookup"><span data-stu-id="892d5-134">Check all your projects in the project list on the right-hand side.</span></span>

5. <span data-ttu-id="892d5-135">Нажмите кнопку **Установить**, чтобы установить пакет NuGet.</span><span class="sxs-lookup"><span data-stu-id="892d5-135">Click the **Install** button to install the NuGet package.</span></span> <span data-ttu-id="892d5-136">Необходимо принять условия лицензионного соглашения, чтобы продолжить.</span><span class="sxs-lookup"><span data-stu-id="892d5-136">You'll need to accept the license to continue.</span></span>

    ![Добавление пакета Xamarin.Essentials NuGet ко всем проектам в решении](../media/2-add-essentials-nuget.png)

    > <span data-ttu-id="892d5-138">Если вы выполняете этот модуль локально и хотите создать приложение для Android, нужно будет выполнить дополнительную настройку.</span><span class="sxs-lookup"><span data-stu-id="892d5-138">If you are running this module locally and want to target Android, you'll need to do some additional setup.</span></span> <span data-ttu-id="892d5-139">Дополнительные сведения см. в [документации по началу работы с Xamarin.Essentials](https://docs.microsoft.com/xamarin/essentials/get-started?context=xamarin%2Fios&tabs=windows%2Candroid).</span><span class="sxs-lookup"><span data-stu-id="892d5-139">For more information, see the [Xamarin.Essentials Getting Started docs](https://docs.microsoft.com/xamarin/essentials/get-started?context=xamarin%2Fios&tabs=windows%2Candroid).</span></span>

## <a name="building-and-running-the-app"></a><span data-ttu-id="892d5-140">Сборка и запуск приложения</span><span class="sxs-lookup"><span data-stu-id="892d5-140">Building and running the app</span></span>

1. <span data-ttu-id="892d5-141">В обозревателе решений щелкните правой кнопкой мыши проект `ImHere.UWP` и выберите пункт *Назначить начальным проектом*.</span><span class="sxs-lookup"><span data-stu-id="892d5-141">Right-click on the `ImHere.UWP` project in Solution Explorer and select *Set as StartUp project*.</span></span>

2. <span data-ttu-id="892d5-142">Выберите конфигурацию сборки **Отладка**, платформу **x86** и устройство для запуска — **Локальный компьютер**.</span><span class="sxs-lookup"><span data-stu-id="892d5-142">Set the build configuration to **Debug**, the platform to **x86**, and the device to run on to **Local Machine**.</span></span>

    ![Настройка конфигурации отладки x86 для запуска на локальном устройстве](../media/2-debug-configuration.png)

3. <span data-ttu-id="892d5-144">Начните отладку приложения.</span><span class="sxs-lookup"><span data-stu-id="892d5-144">Start debugging the app.</span></span>

    ![Приложение выполняется](../media/2-debuging-app.png)

## <a name="summary"></a><span data-ttu-id="892d5-146">Сводка</span><span class="sxs-lookup"><span data-stu-id="892d5-146">Summary</span></span>

<span data-ttu-id="892d5-147">В этом модуле вы создали новое кроссплатформенное мобильное приложение Xamarin.Forms и добавили пакет Xamarin.Essentials NuGet.</span><span class="sxs-lookup"><span data-stu-id="892d5-147">In this unit, you created a new Xamarin.Forms cross-platform mobile app and added the Xamarin.Essentials NuGet package.</span></span> <span data-ttu-id="892d5-148">Далее вы узнаете, как создать пользовательский интерфейс и логику мобильного приложения.</span><span class="sxs-lookup"><span data-stu-id="892d5-148">Next, you learn how to build up the mobile app UI and logic.</span></span>