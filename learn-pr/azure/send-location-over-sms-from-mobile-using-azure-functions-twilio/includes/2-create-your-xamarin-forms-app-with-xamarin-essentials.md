Вы создаете кроссплатформенное мобильное приложение, которое взаимодействует с функцией Azure и сообщает ваше местоположение. В этом модуле вы создадите пустое мобильное приложение с помощью Visual Studio и установите пакет NuGet, который имеет API для получения данных о местоположении пользователя.

## <a name="create-the-xamarinforms-project"></a>Создание проекта Xamarin.Forms

1. В Visual Studio выберите *Файл->Создать->Проект...*.

2. В дереве в левой части окна выберите *Visual C#-> Кроссплатформенные*, а затем выберите *Мобильное приложение (Xamarin.Forms)* на панели в центре.

3. Назовите решение "ImHere".

4. Выберите соответствующее местоположение для решения.

    > Если вы выполняете этот модуль локально на Windows и планируете создание приложения для Android, убедитесь в том, что путь указан максимально кратко. В пакете SDK для Android существуют ограничения на длину пути, поэтому путь к корневому каталогу должен быть максимально коротким.

5. Последовательно выберите **ОК**.

    ![Диалоговое окно нового решения](../media/2-new-solution-dialog.png)

6. В диалоговом окне **Новое кроссплатформенное приложение** выберите шаблон *Пустое приложение*.

7. В этом модуле вы создадите приложение универсальной платформы Windows, поэтому снимите флажки iOS и Android и оставьте флажок UWP.

    > Если вы работаете локально, то можно оставить флажок Android, так как пакет SDK для Android устанавливается как часть рабочей нагрузки *Разработка мобильных приложений с помощью .NET* в Visual Studio. Если вы хотите создать приложение для iOS, необходимо подключиться к агенту сборки macOS. Дополнительные сведения об этом читайте в [документации по Xamarin iOS](https://docs.microsoft.com/xamarin/ios/get-started/installation/windows/connecting-to-mac/).

8. Для параметра *Стратегия совместного использования кода* выберите **.NET Standard**.

9. Последовательно выберите **ОК**.

    ![Диалоговое окно настройки нового решения](../media/2-configure-solution-dialog.png)

Visual Studio создаст два проекта — приложение UWP с именем `ImHere.UWP` и стандартную библиотеку .NET `ImHere`. Приложения Xamarin.Forms состоят из двух частей — один или несколько проектов приложений для конкретной платформы и одна или несколько стандартных библиотек .NET. Проекты приложений для конкретных платформ содержат код конкретной платформы, необходимый для запуска приложения на этой платформе. Эти проекты запускают приложение Xamarin.Forms, которое определено в кроссплатформенной стандартной библиотеке .NET. Вы создаете приложение на кроссплатформенном коде, и во время выполнения любые создаваемые вами пользовательские интерфейсы преобразуются в соответствующие компоненты пользовательского интерфейса определенной платформы.

## <a name="adding-xamarinessentials"></a>Добавление Xamarin.Essentials

Платформы UWP, Android и iOS предоставляют многочисленные аналогичные возможности, которые используют преимущества операционной системы и оборудования. Несмотря на эти сходства, API-интерфейсы сильно отличаются. Для использования этих API из кроссплатформенного кода требуется написать код для конкретной платформы в проекте приложения, которые вы предоставляете стандартным библиотекам .NET. [Xamarin.Essentials](https://docs.microsoft.com/xamarin/essentials/) — это пакет NuGet, который обеспечивает кроссплатформенную абстракцию для нескольких API, включая API геолокации, которые вы будете использовать в приложении для получения данных о местоположении пользователя.

1. В области обозревателя решений в Visual Studio щелкните правой кнопкой мыши решение `ImHere` и выберите пункт *Управление пакетами NuGet для решения...*.

2. Выберите вкладку **Обзор** и найдите "Xamarin.Essentials". Этот пакет в настоящее время доступен как предварительный выпуск пакета NuGet, поэтому поставьте флажок *Включить предварительный выпуск*.

3. Выберите пакет NuGet **Xamarin.Essentials**.

4. Отметьте флажком все ваши проекты в списке проектов в области справа.

5. Нажмите кнопку **Установить**, чтобы установить пакет NuGet. Необходимо принять условия лицензионного соглашения, чтобы продолжить.

    ![Добавление пакета Xamarin.Essentials NuGet ко всем проектам в решении](../media/2-add-essentials-nuget.png)

    > Если вы выполняете этот модуль локально и хотите создать приложение для Android, нужно будет выполнить дополнительную настройку. Дополнительные сведения см. в [документации по началу работы с Xamarin.Essentials](https://docs.microsoft.com/xamarin/essentials/get-started?context=xamarin%2Fios&tabs=windows%2Candroid).

## <a name="building-and-running-the-app"></a>Сборка и запуск приложения

1. В обозревателе решений щелкните правой кнопкой мыши проект `ImHere.UWP` и выберите пункт *Назначить начальным проектом*.

2. Выберите конфигурацию сборки **Отладка**, платформу **x86** и устройство для запуска — **Локальный компьютер**.

    ![Настройка конфигурации отладки x86 для запуска на локальном устройстве](../media/2-debug-configuration.png)

3. Начните отладку приложения.

    ![Приложение выполняется](../media/2-debuging-app.png)

## <a name="summary"></a>Сводка

В этом модуле вы создали новое кроссплатформенное мобильное приложение Xamarin.Forms и добавили пакет Xamarin.Essentials NuGet. Далее вы узнаете, как создать пользовательский интерфейс и логику мобильного приложения.