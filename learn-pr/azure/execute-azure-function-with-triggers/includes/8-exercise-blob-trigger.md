В этом упражнении мы создадим функцию Azure, которая отображает имя и размер BLOB-объекта при его создании или обновлении. 

> [!NOTE]
> Чтобы выполнить это упражнение, войдите на [портал Azure](https://portal.azure.com/) под действующей учетной записью.

## <a name="create-a-blob-trigger"></a>Создание триггера BLOB-объектов

В уже существующее приложение функций Azure добавим триггер BLOB-объектов.

1. Наведите указатель мыши на параметр **Функции** и нажмите на значок плюса (+).

    ![Наведите указатель мыши на параметр "Функции" и нажмите на значок плюса](../media-drafts/4-hover-function.png)

1. Выберите **Триггер BLOB-объектов**.

1. В качестве языка выберите **C#**. 

1. Оставьте в поле **Имя** значение по умолчанию.

1. Оставьте в поле **Путь** значение по умолчанию.

1. Выберите существующую учетную запись хранилища Azure или нажмите **Создать**, если вы хотите создать для себя учетную запись.

## <a name="download-storage-explorer"></a>Загрузка обозревателя службы хранилища

Теперь, когда мы создали триггер BLOB-объектов, загрузим обозреватель службы хранилища, который позволит нам легко создать BLOB-объект.

- Скачайте [обозреватель службы хранилища](http://storageexplorer.com).

## <a name="connect-to-your-azure-storage-account"></a>Подключение к учетной записи хранения Azure

Итак, мы скачали обозреватель службы хранилища. Выполните вход с предоставленными вам учетными данными.

1. В обозревателе службы хранилища нажмите на значок плюса (+) слева.

1. Выберите параметр **Использовать имя и ключ учетной записи хранения**.

1. Щелкните **Далее**.

1. В Azure выберите для триггера BLOB-объектов параметр **Интегрировать**.

1. Выберите параметр **Документация**, чтобы развернуть представление.

1. Скопируйте **Имя учетной записи** и **Ключ учетной записи**.

1. Вернитесь в обозреватель службы хранилища и скопированные данные в поля **Имя учетной записи** и **Ключ учетной записи**.

1. Введите значение в поле **Отображаемое имя**. Оно станет именем подключения в обозревателе службы хранилища.

1. Щелкните **Далее**.

1. Нажмите кнопку **Подключиться**. 

## <a name="create-a-blob-container"></a>Создание контейнера BLOB-объектов

Мы не подключены к своей учетной записи хранения Azure. Помните, что наш триггер BLOB-объектов осуществляет мониторинг только того расположения, которое указано в поле **Путь**. По умолчанию наш путь должен выглядеть так:

> samples-workitems/{name}

Нам необходимо создать контейнер с именем **samples-workitems**.

1. Разверните свою учетную запись хранения в обозревателе службы хранилища. В качестве имени должно быть указано **Отображаемое имя**, которое вы указали во время подключения.

1. Щелкните правой кнопкой мыши элемент **Контейнеры BLOB-объектов** и выберите параметр **Создать контейнер BLOB-объектов**.

1. Введите **samples-workitems**.

## <a name="turn-on-your-blob-trigger"></a>Включение триггера BLOB-объектов

Теперь, когда мы создали контейнер для мониторинга, запустим нашу функцию таким образом, чтобы мы могли увидеть выходные данные при создании BLOB-объекта.

1. Выберите свой триггер BLOB-объектов, чтобы открыть экран кода.

1. Выберите **Запуск**.

## <a name="create-a-blob"></a>Создание BLOB-объектов

Теперь наш триггер BLOB-объектов запущен и начал прослушивание. Создадим BLOB-объект, чтобы узнавать о получении сообщений журнала.

1. В обозревателе службы хранилища выберите контейнер **samples-workitems**.

1. Щелкните **Отправить**. 

1. Выберите **Передать файлы**.

1. Выберите любой файл на своем компьютере.

1. Щелкните **Отправить**.

1. Вернитесь в Azure. Проверьте журналы на наличие сообщения, которое показывает, какой файл был отправлен.

## <a name="clean-up"></a>Очистка

Чтобы с вас не взимали плату за эту функцию, нажмите кнопку **Пауза**, которая находится выше в окне журнала.

![Приостановить](../media-drafts/4-pause-timer.png)


