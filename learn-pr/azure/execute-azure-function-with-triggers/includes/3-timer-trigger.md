<span data-ttu-id="cf33f-101">Часто необходимо выполнять определенную логику через заданные интервалы времени.</span><span class="sxs-lookup"><span data-stu-id="cf33f-101">It's common to execute a piece of logic at a set interval.</span></span> <span data-ttu-id="cf33f-102">Представьте, что вы ведете блог и замечаете, что подписчики не читают ваши последние записи.</span><span class="sxs-lookup"><span data-stu-id="cf33f-102">Imagine you're a blog owner and you notice that your subscribers aren't reading your most recent posts.</span></span> <span data-ttu-id="cf33f-103">Вы решаете, что лучше всего будет рассылать им раз в неделю напоминание по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="cf33f-103">You decide that the best action is to send an email once a week to remind them to check your blog.</span></span> <span data-ttu-id="cf33f-104">Вы реализуете эту логику с помощью функции Azure с триггером по таймеру, который вызывает функцию каждую неделю.</span><span class="sxs-lookup"><span data-stu-id="cf33f-104">You implement this logic using an Azure function with a timer trigger to invoke your function weekly.</span></span>

<span data-ttu-id="cf33f-105">Здесь вы узнаете, как создать триггер по таймеру и настроить его активацию через фиксированные интервалы времени.</span><span class="sxs-lookup"><span data-stu-id="cf33f-105">Here, you'll learn how to create a timer trigger and instruct the trigger to run at a consistent interval.</span></span>

## <a name="what-is-a-timer-trigger"></a><span data-ttu-id="cf33f-106">Что такое триггер по таймеру</span><span class="sxs-lookup"><span data-stu-id="cf33f-106">What is a timer trigger?</span></span>

<span data-ttu-id="cf33f-107">Триггер по таймеру — это триггер, выполняющий функцию через фиксированные интервалы времени.</span><span class="sxs-lookup"><span data-stu-id="cf33f-107">A timer trigger is a trigger that executes a function at a consistent interval.</span></span> <span data-ttu-id="cf33f-108">Чтобы создать триггер по таймеру, необходимо предоставить сведения для двух параметров.</span><span class="sxs-lookup"><span data-stu-id="cf33f-108">To create a timer trigger, you need to supply two pieces of information.</span></span> <span data-ttu-id="cf33f-109">Во-первых, требуется *имя параметра метки времени*. Это просто идентификатор для доступа к триггеру в коде.</span><span class="sxs-lookup"><span data-stu-id="cf33f-109">The first requirement is a *Timestamp parameter name*, which is simply an identifier to access the trigger in code.</span></span> <span data-ttu-id="cf33f-110">Во-вторых, требуется *расписание*, которое представляет собой *выражение CRON*, задающее интервал таймера.</span><span class="sxs-lookup"><span data-stu-id="cf33f-110">The second requirement is a *Schedule*, which is a *CRON expression* that sets the interval for the timer.</span></span>

## <a name="what-is-a-cron-expression"></a><span data-ttu-id="cf33f-111">Что такое выражение CRON</span><span class="sxs-lookup"><span data-stu-id="cf33f-111">What is a CRON expression?</span></span>

<span data-ttu-id="cf33f-112">*Выражение CRON* — это строка, состоящая из шести полей, которые представляют набор значений времени.</span><span class="sxs-lookup"><span data-stu-id="cf33f-112">A *CRON expression* is a string that consists of six fields that represent a set of times.</span></span>

<span data-ttu-id="cf33f-113">Порядок этих шести полей в Azure следующий: {секунда} {минута} {час} {день} {месяц} {день недели}.</span><span class="sxs-lookup"><span data-stu-id="cf33f-113">The order of the six fields in Azure is: {second} {minute} {hour} {day} {month} {day of the week}.</span></span>

<span data-ttu-id="cf33f-114">Например, *выражение CRON* для создания триггера, активируемого каждые пять минут, будет следующим:</span><span class="sxs-lookup"><span data-stu-id="cf33f-114">For example, a *CRON expression* to create a trigger that executes every five minutes looks like:</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="cf33f-115">Поначалу эта строка может казаться непонятной.</span><span class="sxs-lookup"><span data-stu-id="cf33f-115">At first, this string may look confusing.</span></span> <span data-ttu-id="cf33f-116">Мы вернемся к ней и подробно рассмотрим принципы ее построения, когда будем обсуждать *выражения CRON*.</span><span class="sxs-lookup"><span data-stu-id="cf33f-116">We'll come back and break down these concepts when we have a deeper look at *CRON expressions*.</span></span>

<span data-ttu-id="cf33f-117">Для создания *выражения CRON* необходимо иметь общее представление о некоторых специальных символах.</span><span class="sxs-lookup"><span data-stu-id="cf33f-117">To build a *CRON expression*, you need to have a basic understanding of some of the special characters.</span></span>

| <span data-ttu-id="cf33f-118">Специальный символ</span><span class="sxs-lookup"><span data-stu-id="cf33f-118">Special character</span></span> | <span data-ttu-id="cf33f-119">Значение</span><span class="sxs-lookup"><span data-stu-id="cf33f-119">Meaning</span></span> | <span data-ttu-id="cf33f-120">Пример</span><span class="sxs-lookup"><span data-stu-id="cf33f-120">Example</span></span> |
| ------------- | ------------- | ------------- |
| *      | <span data-ttu-id="cf33f-121">Выбирает все значения в поле</span><span class="sxs-lookup"><span data-stu-id="cf33f-121">Selects every value in a field</span></span> | <span data-ttu-id="cf33f-122">Звездочка "\*" в поле дня недели означает *каждый* день.</span><span class="sxs-lookup"><span data-stu-id="cf33f-122">An asterisk "\*" in the day of the week field means *every* day.</span></span> |
| <span data-ttu-id="cf33f-123">,</span><span class="sxs-lookup"><span data-stu-id="cf33f-123">,</span></span>      | <span data-ttu-id="cf33f-124">Разделяет элементы в списке</span><span class="sxs-lookup"><span data-stu-id="cf33f-124">Separates items in a list</span></span> | <span data-ttu-id="cf33f-125">Запятая "1,3" в поле дня недели означает только понедельники (день 1) и среды (день 3).</span><span class="sxs-lookup"><span data-stu-id="cf33f-125">A comma "1,3" in the day of the week field means just Mondays (day 1) and Wednesdays (day 3).</span></span> |
| -      | <span data-ttu-id="cf33f-126">Задает диапазон</span><span class="sxs-lookup"><span data-stu-id="cf33f-126">Specifies a range</span></span> | <span data-ttu-id="cf33f-127">Дефис "10-12" в поле часа означает диапазон с 10 до 12 часов.</span><span class="sxs-lookup"><span data-stu-id="cf33f-127">A hyphen "10-12" in the hour field means a range that includes the hours 10, 11, and 12.</span></span> |
| /      | <span data-ttu-id="cf33f-128">Задает шаг приращения</span><span class="sxs-lookup"><span data-stu-id="cf33f-128">Specifies an increment</span></span> | <span data-ttu-id="cf33f-129">Косая черта "\*/10" в поле минут означает шаг в 10 минут.</span><span class="sxs-lookup"><span data-stu-id="cf33f-129">A slash "\*/10" in the minutes field means an increment of every 10 minutes.</span></span> |

<span data-ttu-id="cf33f-130">Теперь вернемся к исходному примеру выражения CRON.</span><span class="sxs-lookup"><span data-stu-id="cf33f-130">Now we'll go back to the original CRON expression example.</span></span> <span data-ttu-id="cf33f-131">Давайте попробуем разобрать его, разбив на отдельные поля.</span><span class="sxs-lookup"><span data-stu-id="cf33f-131">Let’s try to understand it better by breaking it down field by field.</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="cf33f-132">**Первое поле** представляет секунды.</span><span class="sxs-lookup"><span data-stu-id="cf33f-132">The **first field** represents seconds.</span></span> <span data-ttu-id="cf33f-133">Оно поддерживает значения от 0 до 59.</span><span class="sxs-lookup"><span data-stu-id="cf33f-133">This field supports the values 0-59.</span></span> <span data-ttu-id="cf33f-134">Так как это поле содержит ноль, выбирается первое возможное значение, то есть одна секунда.</span><span class="sxs-lookup"><span data-stu-id="cf33f-134">Because the field contains a zero, it selects the first possible value, which is one second.</span></span>

<span data-ttu-id="cf33f-135">**Второе поле** представляет минуты.</span><span class="sxs-lookup"><span data-stu-id="cf33f-135">The **second field** represents minutes.</span></span> <span data-ttu-id="cf33f-136">Значение "*/5" содержит два специальных символа. Первый, значок (*), означает выбор всех значений в поле.</span><span class="sxs-lookup"><span data-stu-id="cf33f-136">The value "*/5" contains two special characters. First, the asterisk (*) means "select every value within the field."</span></span> <span data-ttu-id="cf33f-137">Так как это поле представляет минуты, возможные значения — от 0 до 59.</span><span class="sxs-lookup"><span data-stu-id="cf33f-137">Because this field represents minutes, the possible values are 0-59.</span></span> <span data-ttu-id="cf33f-138">Второй специальный символ — это косая черта (/), которая представляет шаг приращения.</span><span class="sxs-lookup"><span data-stu-id="cf33f-138">The second special character is the slash (/), which represents an increment.</span></span> <span data-ttu-id="cf33f-139">В сочетании эти символы означают выбор каждого пятого значения из всех возможных значений (0–59).</span><span class="sxs-lookup"><span data-stu-id="cf33f-139">WHen you combine these characters together, it means for all values 0-59, select every fifth value.</span></span> <span data-ttu-id="cf33f-140">Это можно выразить проще: "каждые пять минут".</span><span class="sxs-lookup"><span data-stu-id="cf33f-140">An easier way to say that is simply "every five minutes."</span></span>

<span data-ttu-id="cf33f-141">**Остальные четыре поля** представляют час, день, месяц и день недели.</span><span class="sxs-lookup"><span data-stu-id="cf33f-141">The **remaining four fields** represent the hour, day, month, and weekday of the week.</span></span> <span data-ttu-id="cf33f-142">Значки в этих полях означают выбор всех возможных значений.</span><span class="sxs-lookup"><span data-stu-id="cf33f-142">An asterisk for these fields means to select every possible value.</span></span> <span data-ttu-id="cf33f-143">В этом примере мы выбираем "каждый час каждого дня каждого месяца".</span><span class="sxs-lookup"><span data-stu-id="cf33f-143">In this example, we select "every hour of every day of every month."</span></span>

<span data-ttu-id="cf33f-144">В целом все выражение означает "в первую секунду каждой пятой минуты каждого часа каждого дня каждого месяца".</span><span class="sxs-lookup"><span data-stu-id="cf33f-144">When you put all of the fields together, the expression is read as "on the first second, of every fifth minute of every hour, of every day, of every month".</span></span>

## <a name="how-to-create-a-timer-trigger"></a><span data-ttu-id="cf33f-145">Создание триггера по таймеру</span><span class="sxs-lookup"><span data-stu-id="cf33f-145">How to create a timer trigger</span></span>

<span data-ttu-id="cf33f-146">Триггер по таймеру можно полностью создать на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="cf33f-146">A timer trigger can be created completely within the Azure portal.</span></span> <span data-ttu-id="cf33f-147">В функции Azure в списке стандартных типов триггеров выберите **триггер по таймеру**.</span><span class="sxs-lookup"><span data-stu-id="cf33f-147">In your Azure function, select **timer trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="cf33f-148">Введите логику, которая должна выполняться.</span><span class="sxs-lookup"><span data-stu-id="cf33f-148">Enter the logic that you want to execute.</span></span> <span data-ttu-id="cf33f-149">Укажите **Имя параметра метки времени** и **Выражение CRON**.</span><span class="sxs-lookup"><span data-stu-id="cf33f-149">Supply a **Timestamp parameter name** and the **CRON expression**.</span></span>

## <a name="summary"></a><span data-ttu-id="cf33f-150">Сводка</span><span class="sxs-lookup"><span data-stu-id="cf33f-150">Summary</span></span>

<span data-ttu-id="cf33f-151">Триггер по таймеру вызывает функцию Azure по расписанию.</span><span class="sxs-lookup"><span data-stu-id="cf33f-151">A timer trigger invokes an Azure function on a consistent schedule.</span></span> <span data-ttu-id="cf33f-152">Чтобы определить расписание для триггера по таймеру, следует создать *выражение CRON*. Это строка, которая представляет набор значений времени.</span><span class="sxs-lookup"><span data-stu-id="cf33f-152">To define the schedule for a timer trigger, we build a *CRON expression*, which is a string that represents a set of times.</span></span>

