В этом упражнении мы создадим функцию Azure, которая вызывается каждые 20 секунд с помощью триггера таймера.

> [!NOTE] 
> Чтобы выполнить это упражнение, войдите на [портал Azure](https://portal.azure.com?azure-portal=true) с действующей учетной записью.

## <a name="create-an-azure-function"></a>Создание функции Azure

Давайте сначала создадим функцию Azure на портале.

1. В области навигации слева выберите **Создать ресурс**.

2. Выберите **Вычисления**.

3. Найдите и выберите **Приложение-функция**. Для поиска шаблона также можно использовать панель поиска.

    ![Выбор приложения-функции](../media-drafts/4-click-function-app.png)

4. Введите уникальное **Имя приложения**.

5. Выберите **подписку**.

6. Создайте **группу ресурсов**.

7. Выберите **Windows** в качестве **ОС**.

8. Выберите **План потребления** для параметра **План размещения**. Плата взимается за каждое выполнение функции. Ресурсы выделяются автоматически на основе рабочей нагрузки приложения.

9. Выберите **расположение**.

10. Создайте учетную запись **Службы хранилища**. Вы можете указать для нее любое имя, но по умолчанию оно совпадает с именем приложения.

11. Отключите **Application Insights**.

12. Нажмите кнопку **Создать**. Создание займет несколько минут. Вы можете следить за значком **Уведомления** на панели инструментов — для созданного ресурса здесь появится кнопка, открывающая его на портале Azure.

## <a name="create-a-timer-trigger"></a>Создание триггера таймера

Сейчас мы создадим триггер таймера внутри нашей функции Azure.

1. После создания функции Azure выберите **Все ресурсы** в левой области навигации.

2. Найдите и выберите функцию Azure.

3. В новой колонке наведите указатель мыши на параметр **Функции** и выберите значок со знаком плюс (+).

    ![Наведите указатель мыши на параметр "Функции" и нажмите на значок плюса](../media-drafts/4-hover-function.png)

4. Выберите **Таймер**.

5. В качестве языка выберите **CSharp**.

6. Выберите **Создать эту функцию**.

## <a name="configure-the-timer-trigger"></a>Настройка триггера таймера

У нас есть функция Azure с логикой для вывода сообщения в окне журнала. Мы собираемся настроить расписание таймера для выполнения каждые 20 секунд.

1. Выберите **Интеграция**.

2. В поле **Расписание** введите следующее значение:

    ```
    */20 * * * * *
    ```

3. Щелкните **Сохранить**.

## <a name="start-the-timer"></a>Запуск таймера

Теперь, когда таймер настроен, мы готовы запустить его.

1. Выберите **TimerTriggerCSharp1**. 

    > [!NOTE]
    > **TimerTriggerCSharp1** — это имя по умолчанию. Оно выбирается автоматически при создании триггера.

2. Выберите **Запуск**. 

На этом этапе вы должны видеть в окне журнала сообщение, отображаемое каждые 20 секунд.

## <a name="clean-up"></a>Очистка

Чтобы с вас не взимали плату за эту функцию, остановите таймер, нажав кнопку **Пауза**, которая находится над окном журнала.

![Приостановить](../media-drafts/4-pause-timer.png)


