<span data-ttu-id="e8793-101">HTTP-запрос — это распространенная операция, выполняемая на большинстве платформ и устройств.</span><span class="sxs-lookup"><span data-stu-id="e8793-101">An HTTP request is a common operation on most platforms and devices.</span></span> <span data-ttu-id="e8793-102">Будь это запрос на поиск слова в словаре или запрос на отображение погодных условий, — мы всегда отправляем HTTP-запросы.</span><span class="sxs-lookup"><span data-stu-id="e8793-102">Whether it's a request to look up a word in a dictionary or to get the local weather, we send HTTP requests all the time.</span></span> <span data-ttu-id="e8793-103">Функции Azure позволяют быстро создавать часть логики, выполняемую при получении HTTP-запроса.</span><span class="sxs-lookup"><span data-stu-id="e8793-103">Azure Functions allows us to quickly create a piece of logic to execute when an HTTP request is received.</span></span>  

<span data-ttu-id="e8793-104">Вы узнаете, как создать функцию Azure и вызвать ее помощью триггера HTTP.</span><span class="sxs-lookup"><span data-stu-id="e8793-104">Here, you'll learn how to create and invoke an Azure function using an HTTP trigger.</span></span> <span data-ttu-id="e8793-105">Вы также изучите некоторые доступные параметры настройки.</span><span class="sxs-lookup"><span data-stu-id="e8793-105">You'll also explore some of the customization options that are available.</span></span>

## <a name="what-is-an-http-trigger"></a><span data-ttu-id="e8793-106">Что такое триггер HTTP?</span><span class="sxs-lookup"><span data-stu-id="e8793-106">What is an HTTP trigger?</span></span>

<span data-ttu-id="e8793-107">Триггер HTTP — это триггер, который выполняет функцию при получении HTTP-запроса.</span><span class="sxs-lookup"><span data-stu-id="e8793-107">An HTTP trigger is a trigger that executes a function when it receives an HTTP request.</span></span> <span data-ttu-id="e8793-108">Триггеры HTTP поддерживают много возможностей и настроек, включая следующие:</span><span class="sxs-lookup"><span data-stu-id="e8793-108">HTTP triggers have many capabilities and customizations, including:</span></span>

- <span data-ttu-id="e8793-109">обеспечение авторизованного доступа путем представления ключей;</span><span class="sxs-lookup"><span data-stu-id="e8793-109">Provide authorized access by supplying keys.</span></span>
- <span data-ttu-id="e8793-110">ограничение поддерживаемых HTTP-команд;</span><span class="sxs-lookup"><span data-stu-id="e8793-110">Restrict which HTTP verbs are supported.</span></span>
- <span data-ttu-id="e8793-111">возвращение данных вызывающему объекту;</span><span class="sxs-lookup"><span data-stu-id="e8793-111">Return data back to the caller.</span></span>
- <span data-ttu-id="e8793-112">получение данных в параметрах строки запроса или тексте запроса;</span><span class="sxs-lookup"><span data-stu-id="e8793-112">Receive data through query string parameters or through the request body.</span></span>
- <span data-ttu-id="e8793-113">поддержка шаблонов маршрута URL-адреса для изменения URL-адреса функции.</span><span class="sxs-lookup"><span data-stu-id="e8793-113">Support URL route templates to modify the function URL.</span></span>

<span data-ttu-id="e8793-114">При создании триггера HTTP следует выбрать язык программирования, указать имя триггера и выбрать уровень авторизации.</span><span class="sxs-lookup"><span data-stu-id="e8793-114">When you create an HTTP trigger, select a programming language, provide a trigger name, and select an Authorization level.</span></span>

## <a name="what-is-an-http-trigger-authorization-level"></a><span data-ttu-id="e8793-115">Что такое уровень авторизации триггера HTTP?</span><span class="sxs-lookup"><span data-stu-id="e8793-115">What is an HTTP trigger Authorization level?</span></span>

<span data-ttu-id="e8793-116">Уровень авторизации триггера HTTP представляет собой флаг, указывающий, требуется ли входящему HTTP-запросу ключ API в целях проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="e8793-116">An HTTP trigger Authorization level is a flag that indicates if an incoming HTTP request needs an API key for authentication reasons.</span></span>

<span data-ttu-id="e8793-117">Существует три уровня авторизации.</span><span class="sxs-lookup"><span data-stu-id="e8793-117">There are three Authorization levels:</span></span>

- <span data-ttu-id="e8793-118">Функция</span><span class="sxs-lookup"><span data-stu-id="e8793-118">Function</span></span>
- <span data-ttu-id="e8793-119">Анонимный</span><span class="sxs-lookup"><span data-stu-id="e8793-119">Anonymous</span></span>
- <span data-ttu-id="e8793-120">Администратор</span><span class="sxs-lookup"><span data-stu-id="e8793-120">Admin</span></span>

<span data-ttu-id="e8793-121">Уровни **Функция** и **Администратор** работают на основе ключей.</span><span class="sxs-lookup"><span data-stu-id="e8793-121">The **Function** and **Admin** levels are "key" based.</span></span> <span data-ttu-id="e8793-122">Чтобы отправить HTTP-запрос, необходимо указать ключ для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="e8793-122">To send an HTTP request, you must supply a key for authentication.</span></span> <span data-ttu-id="e8793-123">Существует два типа ключей: ключи *функции* и ключи *узла*.</span><span class="sxs-lookup"><span data-stu-id="e8793-123">There are two types of keys: *function* and *host*.</span></span> <span data-ttu-id="e8793-124">Эти ключи имеют различные области действия.</span><span class="sxs-lookup"><span data-stu-id="e8793-124">The differences between the two keys are their scope.</span></span> <span data-ttu-id="e8793-125">Ключи *функции* применяются к конкретным функциям.</span><span class="sxs-lookup"><span data-stu-id="e8793-125">*Function* keys are specific to a function.</span></span> <span data-ttu-id="e8793-126">Ключи *узла* применяются ко всем функциям во всем приложении функций Azure.</span><span class="sxs-lookup"><span data-stu-id="e8793-126">*Host* keys apply to all functions inside the entire Azure Functions application.</span></span> <span data-ttu-id="e8793-127">Если задан уровень авторизации **Функция**, можно использовать либо ключ *функции*, либо ключ *узла*.</span><span class="sxs-lookup"><span data-stu-id="e8793-127">If your Authorization level is set to **Function**, you can use either a *function* or a *host* key.</span></span> <span data-ttu-id="e8793-128">Если задан уровень авторизации **Администратор**, необходимо указать ключ *узла*.</span><span class="sxs-lookup"><span data-stu-id="e8793-128">If your Authorization level is set to **Admin**, you must supply a *host* key.</span></span>

<span data-ttu-id="e8793-129">**Анонимный** уровень означает, что проверка подлинности не требуется.</span><span class="sxs-lookup"><span data-stu-id="e8793-129">The **Anonymous** level means that there's no authentication required.</span></span> <span data-ttu-id="e8793-130">В упражнении используется этот уровень.</span><span class="sxs-lookup"><span data-stu-id="e8793-130">We use this level in our exercise.</span></span>

## <a name="how-to-create-an-http-trigger"></a><span data-ttu-id="e8793-131">Создание триггера HTTP</span><span class="sxs-lookup"><span data-stu-id="e8793-131">How to create an HTTP trigger</span></span>

<span data-ttu-id="e8793-132">Как и триггер таймера, триггер HTTP можно создать на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="e8793-132">Just like a timer trigger, you can create an HTTP trigger through the Azure portal.</span></span> <span data-ttu-id="e8793-133">В функции Azure в списке стандартных типов триггеров выберите **Триггер HTTP**.</span><span class="sxs-lookup"><span data-stu-id="e8793-133">Inside your Azure function, you select **HTTP trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="e8793-134">Затем введите логику, которая будет выполняться, и внесите необходимые изменения, например ограничьте использование определенных HTTP-команд.</span><span class="sxs-lookup"><span data-stu-id="e8793-134">Then you enter the logic that you want to execute, and make any customizations like restricting the use of certain HTTP verbs.</span></span> 

<span data-ttu-id="e8793-135">Важно понимать один параметр — **Имя параметра запроса**.</span><span class="sxs-lookup"><span data-stu-id="e8793-135">One setting that's important to understand is **Request parameter name**.</span></span> <span data-ttu-id="e8793-136">Этот параметр является строкой, представляющей имя параметра, который содержит сведения о входящем HTTP-запросе.</span><span class="sxs-lookup"><span data-stu-id="e8793-136">This setting is a string that represents the name of the parameter that contains the information about an incoming HTTP request.</span></span> <span data-ttu-id="e8793-137">Имя параметра по умолчанию — *req*.</span><span class="sxs-lookup"><span data-stu-id="e8793-137">By default, the name of the parameter is *req*.</span></span>

## <a name="how-to-invoke-an-http-trigger"></a><span data-ttu-id="e8793-138">Вызов триггера HTTP</span><span class="sxs-lookup"><span data-stu-id="e8793-138">How to invoke an HTTP trigger</span></span>

<span data-ttu-id="e8793-139">Чтобы вызвать триггер HTTP, отправьте HTTP-запрос на URL-адрес функции.</span><span class="sxs-lookup"><span data-stu-id="e8793-139">To invoke an HTTP trigger, you send an HTTP request to the URL for your function.</span></span> <span data-ttu-id="e8793-140">Чтобы получить этот URL-адрес, перейдите на страницу кода для функции и щелкните ссылку **Получить URL-адрес функции**.</span><span class="sxs-lookup"><span data-stu-id="e8793-140">To get this URL, go to the code page for your function and select the **Get function URL** link.</span></span>

![Получение URL-адреса для функции](../media/5-function-url.png)

<span data-ttu-id="e8793-142">Получив URL-адрес для функции, вы можете отправлять HTTP-запросы.</span><span class="sxs-lookup"><span data-stu-id="e8793-142">After you have the URL for your function, you can send HTTP requests.</span></span> <span data-ttu-id="e8793-143">Если функция получает данные, помните, что можно использовать либо параметры строки запроса, либо передать данные в теле запроса.</span><span class="sxs-lookup"><span data-stu-id="e8793-143">If your function receives data, remember that you can use either query string parameters or supply the data through the request body.</span></span>

## <a name="summary"></a><span data-ttu-id="e8793-144">Сводка</span><span class="sxs-lookup"><span data-stu-id="e8793-144">Summary</span></span>

<span data-ttu-id="e8793-145">Триггер HTTP вызывает функцию Azure при получении HTTP-запроса по URL-адресу функции.</span><span class="sxs-lookup"><span data-stu-id="e8793-145">An HTTP trigger invokes an Azure function when it receives an HTTP request to its function URL.</span></span> <span data-ttu-id="e8793-146">Триггеры HTTP позволяют получать данные и возвращать их вызывающему объекту.</span><span class="sxs-lookup"><span data-stu-id="e8793-146">HTTP triggers allow you to receive data and return data back to the caller.</span></span>
