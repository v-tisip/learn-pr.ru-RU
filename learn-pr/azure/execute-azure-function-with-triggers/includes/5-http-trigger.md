HTTP-запрос — это распространенная операция, выполняемая на большинстве платформ и устройств. Будь это запрос на поиск слова в словаре или запрос на отображение погодных условий, — мы всегда отправляем HTTP-запросы. Функции Azure позволяют быстро создавать часть логики, выполняемую при получении HTTP-запроса.  

Вы узнаете, как создать функцию Azure и вызвать ее помощью триггера HTTP. Вы также изучите некоторые доступные параметры настройки.

## <a name="what-is-an-http-trigger"></a>Что такое триггер HTTP?

Триггер HTTP — это триггер, который выполняет функцию при получении HTTP-запроса. Триггеры HTTP поддерживают много возможностей и настроек, включая следующие:

- обеспечение авторизованного доступа путем представления ключей;
- ограничение поддерживаемых HTTP-команд;
- возвращение данных вызывающему объекту;
- получение данных в параметрах строки запроса или тексте запроса;
- поддержка шаблонов маршрута URL-адреса для изменения URL-адреса функции.

При создании триггера HTTP следует выбрать язык программирования, указать имя триггера и выбрать уровень авторизации.

## <a name="what-is-an-http-trigger-authorization-level"></a>Что такое уровень авторизации триггера HTTP?

Уровень авторизации триггера HTTP представляет собой флаг, указывающий, требуется ли входящему HTTP-запросу ключ API в целях проверки подлинности.

Существует три уровня авторизации.

- Функция
- Анонимный
- Администратор

Уровни **Функция** и **Администратор** работают на основе ключей. Чтобы отправить HTTP-запрос, необходимо указать ключ для проверки подлинности. Существует два типа ключей: ключи *функции* и ключи *узла*. Эти ключи имеют различные области действия. Ключи *функции* применяются к конкретным функциям. Ключи *узла* применяются ко всем функциям во всем приложении функций Azure. Если задан уровень авторизации **Функция**, можно использовать либо ключ *функции*, либо ключ *узла*. Если задан уровень авторизации **Администратор**, необходимо указать ключ *узла*.

**Анонимный** уровень означает, что проверка подлинности не требуется. В упражнении используется этот уровень.

## <a name="how-to-create-an-http-trigger"></a>Создание триггера HTTP

Как и триггер таймера, триггер HTTP можно создать на портале Azure. В функции Azure в списке стандартных типов триггеров выберите **Триггер HTTP**. Затем введите логику, которая будет выполняться, и внесите необходимые изменения, например ограничьте использование определенных HTTP-команд. 

Важно понимать один параметр — **Имя параметра запроса**. Этот параметр является строкой, представляющей имя параметра, который содержит сведения о входящем HTTP-запросе. Имя параметра по умолчанию — *req*.

## <a name="how-to-invoke-an-http-trigger"></a>Вызов триггера HTTP

Чтобы вызвать триггер HTTP, отправьте HTTP-запрос на URL-адрес функции. Чтобы получить этот URL-адрес, перейдите на страницу кода для функции и щелкните ссылку **Получить URL-адрес функции**.

![Получение URL-адреса для функции](../media/5-function-url.png)

Получив URL-адрес для функции, вы можете отправлять HTTP-запросы. Если функция получает данные, помните, что можно использовать либо параметры строки запроса, либо передать данные в теле запроса.

## <a name="summary"></a>Сводка

Триггер HTTP вызывает функцию Azure при получении HTTP-запроса по URL-адресу функции. Триггеры HTTP позволяют получать данные и возвращать их вызывающему объекту.
