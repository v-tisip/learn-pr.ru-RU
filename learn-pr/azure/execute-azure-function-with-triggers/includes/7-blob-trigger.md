<span data-ttu-id="68412-101">Допустим, вы фотограф и у вас есть веб-сайт, где вы показываете свои фото дня.</span><span class="sxs-lookup"><span data-stu-id="68412-101">Imagine you're a photographer and you have a website where you display your pictures of the day.</span></span> <span data-ttu-id="68412-102">Из-за занятости вы не можете загружать фотографии в одно и то же время, но хотите уведомлять своих поклонников о загрузке новых снимков.</span><span class="sxs-lookup"><span data-stu-id="68412-102">Because you're busy, you don't have a consistent upload schedule, but you want to notify your fans when you upload a picture.</span></span> <span data-ttu-id="68412-103">Вы решили создать функцию Azure, которая будет автоматически публиковать сообщение в Twitter при загрузке каждого изображения в контейнер BLOB-объектов хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-103">You decide to create an Azure function to automatically send a tweet whenever you upload an image to your Azure Storage blob container.</span></span>

<span data-ttu-id="68412-104">Здесь вы узнаете, как создать триггер BLOB-объектов и настроить его для мониторинга определенного расположения в контейнере BLOB-объектов хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-104">Here, you learn how to create a blob trigger and instruct it to monitor a specific location in your Azure Storage blob container.</span></span>

## <a name="what-is-azure-storage"></a><span data-ttu-id="68412-105">Что такое хранилище Azure?</span><span class="sxs-lookup"><span data-stu-id="68412-105">What is Azure Storage?</span></span>

<span data-ttu-id="68412-106">Хранилище Azure — это решение облачного хранилища Майкрософт, которое поддерживает все типы данных, включая BLOB-объекты, очереди и NoSQL.</span><span class="sxs-lookup"><span data-stu-id="68412-106">Azure Storage is Microsoft's cloud storage solution that supports all types of data, including: blobs, queues, and NoSQL.</span></span> <span data-ttu-id="68412-107">Хранилище Azure предоставляет хранилище данных, обладающее следующими свойствами:</span><span class="sxs-lookup"><span data-stu-id="68412-107">The goal of Azure Storage is to provide data storage that's:</span></span>

- <span data-ttu-id="68412-108">высокая доступность,</span><span class="sxs-lookup"><span data-stu-id="68412-108">Highly available</span></span>
- <span data-ttu-id="68412-109">Безопасность</span><span class="sxs-lookup"><span data-stu-id="68412-109">Secure</span></span>
- <span data-ttu-id="68412-110">масштабируемость,</span><span class="sxs-lookup"><span data-stu-id="68412-110">Scalable</span></span>
- <span data-ttu-id="68412-111">Управляемые</span><span class="sxs-lookup"><span data-stu-id="68412-111">Managed</span></span>

<span data-ttu-id="68412-112">Мы не будем долго говорить о хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-112">We're not going to focus on Azure Storage too much.</span></span> <span data-ttu-id="68412-113">Вместо этого мы создадим BLOB-объекты, которые будут запускать выполнение функции.</span><span class="sxs-lookup"><span data-stu-id="68412-113">Instead, we use it to create blobs that will trigger our function to run.</span></span>

## <a name="what-is-azure-blob-storage"></a><span data-ttu-id="68412-114">Что такое хранилище BLOB-объектов Azure?</span><span class="sxs-lookup"><span data-stu-id="68412-114">What is Azure Blob storage?</span></span>

<span data-ttu-id="68412-115">Хранилище BLOB-объектов Azure — это решение хранилища объекта, предназначенное для хранения больших объемов неструктурированных данных.</span><span class="sxs-lookup"><span data-stu-id="68412-115">Azure Blob storage is an object storage solution that's designed to store large amounts of unstructured data.</span></span> 

<span data-ttu-id="68412-116">Например, хранилище BLOB-объектов Azure отлично подходит для выполнения таких задач, как:</span><span class="sxs-lookup"><span data-stu-id="68412-116">For example, Azure Blob storage is great at doing things like:</span></span>

- <span data-ttu-id="68412-117">Хранение файлов.</span><span class="sxs-lookup"><span data-stu-id="68412-117">Storing files.</span></span>
- <span data-ttu-id="68412-118">Обслуживание файлов.</span><span class="sxs-lookup"><span data-stu-id="68412-118">Serving files.</span></span>
- <span data-ttu-id="68412-119">Потоковая передача видео и аудио.</span><span class="sxs-lookup"><span data-stu-id="68412-119">Streaming video and audio.</span></span>
- <span data-ttu-id="68412-120">Ведение журнала данных.</span><span class="sxs-lookup"><span data-stu-id="68412-120">Logging data.</span></span>

<span data-ttu-id="68412-121">Существует три типа BLOB-объектов: **блочные**, **добавочные** и **страничные**.</span><span class="sxs-lookup"><span data-stu-id="68412-121">There are three types of blobs: **block blobs**, **append blobs**, and **page blobs**.</span></span> <span data-ttu-id="68412-122">Чаще всего используются блочные BLOB-объекты.</span><span class="sxs-lookup"><span data-stu-id="68412-122">Block blobs are the most common type.</span></span> <span data-ttu-id="68412-123">Они позволяют эффективно хранить текстовые или двоичные данные.</span><span class="sxs-lookup"><span data-stu-id="68412-123">They allow you to store text or binary data efficiently.</span></span> <span data-ttu-id="68412-124">Добавочные BLOB-объекты похожи на блочные, но предназначены для добавления таких операций, как создание постоянно обновляемого файла журнала.</span><span class="sxs-lookup"><span data-stu-id="68412-124">Append blobs are like block blobs, but they're designed more for append operations like creating a log file that's being constantly updated.</span></span> <span data-ttu-id="68412-125">И, наконец, страничные BLOB-объекты состоят из страниц и предназначены для частых произвольных операций чтения и записи.</span><span class="sxs-lookup"><span data-stu-id="68412-125">Finally, page blobs are made up of pages and are designed for frequent random read and write operations.</span></span>

## <a name="what-is-a-blob-trigger"></a><span data-ttu-id="68412-126">Что такое триггер BLOB-объектов?</span><span class="sxs-lookup"><span data-stu-id="68412-126">What is a blob trigger?</span></span>

<span data-ttu-id="68412-127">Триггер BLOB-объектов — это триггер, который запускает выполнение функции при передаче или обновлении файла в хранилище BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-127">A blob trigger is a trigger that executes a function when a file is uploaded or updated in Azure Blob storage.</span></span> <span data-ttu-id="68412-128">Для создания триггера BLOB-объектов создайте учетную запись хранения Azure и укажите расположение, которое триггер будет отслеживать.</span><span class="sxs-lookup"><span data-stu-id="68412-128">To create a blob trigger, you create an Azure Storage account and provide a location that the trigger monitors.</span></span>

## <a name="how-to-create-a-blob-trigger"></a><span data-ttu-id="68412-129">Создание триггера BLOB-объектов</span><span class="sxs-lookup"><span data-stu-id="68412-129">How to create a blob trigger</span></span>

<span data-ttu-id="68412-130">Как и другие триггеры, о которых мы уже говорили, триггер BLOB-объектов создается на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-130">Just like the other triggers we've seen so far, we create a blob trigger in the Azure portal.</span></span> <span data-ttu-id="68412-131">В функции Azure выберите в списке стандартных типов триггеров **триггер BLOB-объектов**.</span><span class="sxs-lookup"><span data-stu-id="68412-131">Inside your Azure function, select **Blob trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="68412-132">Затем введите логику, которая будет выполняться при создании или обновлении BLOB-объекта.</span><span class="sxs-lookup"><span data-stu-id="68412-132">Then enter the logic to execute when a blob is created or updated.</span></span>

<span data-ttu-id="68412-133">Один из интересующих нас параметров — это **путь**.</span><span class="sxs-lookup"><span data-stu-id="68412-133">One setting that you'll want to look at is the **Path**.</span></span> <span data-ttu-id="68412-134">**Путь** сообщает триггеру BLOB-объектов, какое расположение он должен отслеживать на предмет загрузки или обновления BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="68412-134">The **Path** tells the blob trigger where to monitor to see if a blob is uploaded or updated.</span></span> <span data-ttu-id="68412-135">Значение параметр **Путь** по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="68412-135">By default, the **Path** value is:</span></span> 

> <span data-ttu-id="68412-136">samples-workitems/{name}</span><span class="sxs-lookup"><span data-stu-id="68412-136">samples-workitems/{name}</span></span>

<span data-ttu-id="68412-137">Разделим его на две части: *samples-workitems* и *{name}*.</span><span class="sxs-lookup"><span data-stu-id="68412-137">Let's break down this concept into two pieces: *samples-workitems* and *{name}*.</span></span> <span data-ttu-id="68412-138">Первая часть, *samples-workitems*, представляет контейнер BLOB-объектов, который отслеживается триггером.</span><span class="sxs-lookup"><span data-stu-id="68412-138">The first part, *samples-workitems*, represents the blob container that the trigger monitors.</span></span> <span data-ttu-id="68412-139">Вторая часть *{name}*, означает, что каждый тип файла заставляет триггер вызывать функцию.</span><span class="sxs-lookup"><span data-stu-id="68412-139">The second part, *{name}*, means that every type of file will cause the trigger to invoke the function.</span></span> <span data-ttu-id="68412-140">Функция вызывается, поскольку нет фильтра.</span><span class="sxs-lookup"><span data-stu-id="68412-140">The function is invoked because there's no filter.</span></span> <span data-ttu-id="68412-141">Например, можно сделать так, чтобы триггер вызывал функцию только при добавлении PNG-файлов с использованием следующего синтаксиса:</span><span class="sxs-lookup"><span data-stu-id="68412-141">For example, I could make the trigger invoke the function only when a PNG file is added by using syntax like:</span></span>

> <span data-ttu-id="68412-142">samples-workitems/{name}.png</span><span class="sxs-lookup"><span data-stu-id="68412-142">samples-workitems/{name}.png</span></span>

<span data-ttu-id="68412-143">Второй важный элемент информации в этом компоненте — это текстовое *имя*.</span><span class="sxs-lookup"><span data-stu-id="68412-143">The last significant piece of information with this concept is the text *name*.</span></span> <span data-ttu-id="68412-144">*Имя* представляет собой параметр функции Azure, который получает имя добавляемого файла.</span><span class="sxs-lookup"><span data-stu-id="68412-144">The *name* represents a parameter in your Azure function that receives the name of the added file.</span></span> <span data-ttu-id="68412-145">Например, при отправке файла с именем *resume.txt* моя функция Azure получает это значение в виде строки через параметр *имя*.</span><span class="sxs-lookup"><span data-stu-id="68412-145">For example, if I upload a file named *resume.txt*, my Azure function receives that value as a string through a parameter called *name*.</span></span>

## <a name="summary"></a><span data-ttu-id="68412-146">Сводка</span><span class="sxs-lookup"><span data-stu-id="68412-146">Summary</span></span>

<span data-ttu-id="68412-147">Триггер BLOB-объектов вызывает функцию Azure при обнаружении действия в определенном расположении в вашей учетной записи хранилища BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-147">A blob trigger invokes an Azure function when it sees activity at a specific location in your Azure Storage blob account.</span></span> <span data-ttu-id="68412-148">Чтобы задать расположение для мониторинга, измените значение параметра **Путь** на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="68412-148">You set the location to monitor by modifying the **Path** value in the Azure portal.</span></span>
