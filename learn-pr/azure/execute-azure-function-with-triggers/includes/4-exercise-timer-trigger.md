В этом упражнении мы создадим функцию Azure, которая вызывается каждые 20 секунд с помощью триггера таймера.

> [!NOTE] 
> Чтобы выполнить это упражнение, войдите на [портал Azure](https://portal.azure.com/) под действующей учетной записью.

## <a name="create-an-azure-function"></a>Создание функции Azure

Давайте сначала создадим функцию Azure на портале.

1. В левой области навигации выберите **Создать ресурс**.

1. Выберите **Вычисления**.

1. Найдите и выберите **Приложение-функция**. Для поиска шаблона также можно использовать панель поиска.

    ![Выбор приложения-функции](../media-drafts/4-click-function-app.png)

1. Введите уникальное **Имя приложения**.

1. Выберите **подписку**.

1. Создайте **группу ресурсов**.

1. Выберите **Windows** в качестве **ОС**.

1. Выберите **План потребления** для параметра **План размещения**. Плата взимается за каждое выполнение функции. Ресурсы выделяются автоматически на основе рабочей нагрузки приложения.

1. Выберите **расположение**.

1. Создайте учетную запись **хранения**. (Это значение является обязательным, но мы не будем его использовать.)

1. Отключите **Application Insights**.

1. Нажмите кнопку **Создать**.

## <a name="create-a-timer-trigger"></a>Создание триггера таймера

Сейчас мы создадим триггер таймера внутри нашей функции Azure.

1. После создания функции Azure выберите **Все ресурсы** в левой области навигации.

1. Найдите и выберите функцию Azure.

1. В новой колонке наведите указатель мыши на параметр **Функции** и выберите значок со знаком плюс (+).

    ![Наведите указатель мыши на параметр "Функции" и нажмите на значок плюса](../media-drafts/4-hover-function.png)

1. Выберите **Таймер**.

1. В качестве языка выберите **CSharp**.

1. Выберите **Создать эту функцию**.

## <a name="configure-the-timer-trigger"></a>Настройка триггера таймера

У нас есть функция Azure с логикой для вывода сообщения в окне журнала. Мы собираемся настроить расписание таймера для выполнения каждые 20 секунд.

1. Выберите **Интеграция**.

1. В поле **Расписание** введите следующее значение:

    ```
    */20 * * * * *
    ```

1. Щелкните **Сохранить**.

## <a name="start-the-timer"></a>Запуск таймера

Теперь, когда таймер настроен, мы готовы запустить его.

1. Выберите **TimerTriggerCSharp1**. 

    > [!NOTE]
    > **TimerTriggerCSharp1** — это имя по умолчанию. Оно выбирается автоматически при создании триггера.

1. Выберите **Запуск**. 

На этом этапе вы должны видеть в окне журнала сообщение, отображаемое каждые 20 секунд.

## <a name="clean-up"></a>Очистка

Чтобы с вас не взимали плату за эту функцию, остановите таймер, нажав кнопку **Пауза**, которая находится над окном журнала.

![Приостановить](../media-drafts/4-pause-timer.png)


