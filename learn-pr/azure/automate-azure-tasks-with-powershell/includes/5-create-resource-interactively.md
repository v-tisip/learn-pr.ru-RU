<span data-ttu-id="6ef46-101">Azure PowerShell позволяет писать команды и выполнять их немедленно.</span><span class="sxs-lookup"><span data-stu-id="6ef46-101">Azure PowerShell lets you write commands and execute them immediately.</span></span> <span data-ttu-id="6ef46-102">Это называется **интерактивным режимом**.</span><span class="sxs-lookup"><span data-stu-id="6ef46-102">This is known as **interactive mode**.</span></span>

<span data-ttu-id="6ef46-103">Вспомним, что общей целью в примере CRM является создание трех тестовых сред, содержащих виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="6ef46-103">Recall that the overall goal in the Customer Relationship Management (CRM) example is to create three test environments containing VMs.</span></span> <span data-ttu-id="6ef46-104">Вы будете использовать группы ресурсов для размещения виртуальных машин в отдельных средах: в среде для модульного тестирования, в среде для тестирования интеграции и в среде для приемочного тестирования.</span><span class="sxs-lookup"><span data-stu-id="6ef46-104">You will use resource groups to ensure the VMs are organized into separate environments: one for unit testing, one for integration testing, and one for acceptance testing.</span></span> <span data-ttu-id="6ef46-105">Группу ресурсов необходимо создать только один раз, поэтому интерактивный режим PowerShell может быть хорошим решением.</span><span class="sxs-lookup"><span data-stu-id="6ef46-105">You only need to create the resource groups once, which means using the interactive mode of PowerShell is a good choice.</span></span>

<span data-ttu-id="6ef46-106">В этом разделе приведено несколько примеров интерактивного использования PowerShell для входа в подписку Azure и создания групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6ef46-106">This section shows some examples of using PowerShell interactively to log on to your Azure subscription and create resource groups.</span></span>

## <a name="what-are-powershell-cmdlets"></a><span data-ttu-id="6ef46-107">Что такое командлеты PowerShell?</span><span class="sxs-lookup"><span data-stu-id="6ef46-107">What are PowerShell cmdlets?</span></span>
<span data-ttu-id="6ef46-108">Команда PowerShell называется **командлетом**.</span><span class="sxs-lookup"><span data-stu-id="6ef46-108">A PowerShell command is called a **cmdlet** (pronounced "command-let").</span></span> <span data-ttu-id="6ef46-109">Командлет — это команда, которая управляет одной функцией.</span><span class="sxs-lookup"><span data-stu-id="6ef46-109">A cmdlet is a command that manipulates a single feature.</span></span> <span data-ttu-id="6ef46-110">Термин **командлет** используется для обозначения небольшой команды.</span><span class="sxs-lookup"><span data-stu-id="6ef46-110">The term **cmdlet** is intended to imply "small command".</span></span> <span data-ttu-id="6ef46-111">По соглашению авторам командлетов рекомендуется разрабатывать простые командлеты, предназначенные для выполнения одной задачи.</span><span class="sxs-lookup"><span data-stu-id="6ef46-111">By convention, cmdlet authors are encouraged to keep cmdlets simple and single-purpose.</span></span>

<span data-ttu-id="6ef46-112">В состав базового продукта PowerShell входят командлеты, которые работают с такими функциями, как сеансы и фоновые задания.</span><span class="sxs-lookup"><span data-stu-id="6ef46-112">The base PowerShell product ships with cmdlets that work with features such as sessions and background jobs.</span></span> <span data-ttu-id="6ef46-113">Добавьте модули в установку PowerShell, чтобы получить командлеты для управления другими функциями.</span><span class="sxs-lookup"><span data-stu-id="6ef46-113">You add modules to your PowerShell installation to get cmdlets that manipulate other features.</span></span> <span data-ttu-id="6ef46-114">Например, существуют сторонние модули для работы с FTP, администрирования операционной системы, доступа к файловой системе и т. д.</span><span class="sxs-lookup"><span data-stu-id="6ef46-114">For example, there are third-party modules to work with ftp, administer your operating system, access the file system, and so on.</span></span>

<span data-ttu-id="6ef46-115">Для командлетов действует соглашение об именовании "глагол-существительное", например **Get-Process**, **Format-Table** и **Start-Service**.</span><span class="sxs-lookup"><span data-stu-id="6ef46-115">Cmdlets follow a verb-noun naming convention; for example, **Get-Process**, **Format-Table**, and **Start-Service**.</span></span> <span data-ttu-id="6ef46-116">Кроме того, имеется соглашение по выбору команды: "get" — для получения данных, "set" — для вставки или обновления данных, "format" — для форматирования данных, "out" — для указания места назначения выходных данных и т. д.</span><span class="sxs-lookup"><span data-stu-id="6ef46-116">There is also a convention for verb choice: "get" to retrieve data, "set" to insert or update data, "format" to format data, "out" to direct output to a destination, and so on.</span></span>

<span data-ttu-id="6ef46-117">Авторам командлетов рекомендуется добавлять файл справки для каждого командлета.</span><span class="sxs-lookup"><span data-stu-id="6ef46-117">Cmdlet authors are encouraged to include a help file for each cmdlet.</span></span> <span data-ttu-id="6ef46-118">Командлет **Get-Help** отображает файл справки для любого командлета:</span><span class="sxs-lookup"><span data-stu-id="6ef46-118">The **Get-Help** cmdlet displays the help file for any cmdlet:</span></span>

```powershell
Get-Help <cmdlet-name> -detailed
```

## <a name="what-is-azurerm"></a><span data-ttu-id="6ef46-119">Что такое AzureRM?</span><span class="sxs-lookup"><span data-stu-id="6ef46-119">What is AzureRM?</span></span>
<span data-ttu-id="6ef46-120">**AzureRM** — это формальное имя модуля Azure PowerShell, содержащего командлеты для работы с функциями Azure (**RM** в имени означает **Resource Manager**).</span><span class="sxs-lookup"><span data-stu-id="6ef46-120">**AzureRM** is the formal name for the Azure PowerShell module containing cmdlets to work with Azure features (the **RM** in the name stands for **Resource Manager**).</span></span> <span data-ttu-id="6ef46-121">Он содержит сотни командлетов, которые позволяют управлять практически всеми аспектами каждого ресурса Azure.</span><span class="sxs-lookup"><span data-stu-id="6ef46-121">It contains hundreds of cmdlets that let you control nearly every aspect of every Azure resource.</span></span> <span data-ttu-id="6ef46-122">Вы можете работать с группами ресурсов, хранилищами, виртуальными машинами, Azure Active Directory, контейнерами, использовать машинное обучение и т. д.</span><span class="sxs-lookup"><span data-stu-id="6ef46-122">You can work with resource groups, storage, virtual machines, Azure Active Directory, containers, machine learning, and so on.</span></span>

## <a name="how-to-create-a-resource-group"></a><span data-ttu-id="6ef46-123">Создание группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="6ef46-123">How to create a resource group</span></span>
<span data-ttu-id="6ef46-124">Далее мы создадим группу ресурсов с помощью локальной установки Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ef46-124">Next we'll create a resource group using a local installation of Azure PowerShell.</span></span> 

<span data-ttu-id="6ef46-125">Этот процесс состоит из четырех этапов.</span><span class="sxs-lookup"><span data-stu-id="6ef46-125">There are four steps:</span></span> 
1. <span data-ttu-id="6ef46-126">Импорт командлетов Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6ef46-126">Import the Azure cmdlets.</span></span>
1. <span data-ttu-id="6ef46-127">Подключение к подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="6ef46-127">Connect to your Azure subscription.</span></span>
1. <span data-ttu-id="6ef46-128">Создание группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6ef46-128">Create the resource group.</span></span>
1. <span data-ttu-id="6ef46-129">Проверка успешного создания (см. ниже).</span><span class="sxs-lookup"><span data-stu-id="6ef46-129">Verify that creation was successful (see below).</span></span>

![Этапы создания ресурса в Azure с помощью Azure PowerShell](../media-drafts/5-create-resource-overview.png)

<span data-ttu-id="6ef46-131">На каждом этапе используются разные командлеты.</span><span class="sxs-lookup"><span data-stu-id="6ef46-131">Each step corresponds to a different cmdlet.</span></span>

### <a name="import"></a><span data-ttu-id="6ef46-132">Импорт</span><span class="sxs-lookup"><span data-stu-id="6ef46-132">Import</span></span>
<span data-ttu-id="6ef46-133">При запуске PowerShell по умолчанию загружает только основные командлеты.</span><span class="sxs-lookup"><span data-stu-id="6ef46-133">At startup, PowerShell loads only the core cmdlets by default.</span></span> <span data-ttu-id="6ef46-134">Это означает, что командлеты, необходимые для работы с Azure, не загружаются.</span><span class="sxs-lookup"><span data-stu-id="6ef46-134">This means the cmdlets you need to work with Azure won't be loaded.</span></span> <span data-ttu-id="6ef46-135">Самый надежный способ загрузки нужных командлетов — импортировать их вручную в начале сеанса PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6ef46-135">The most reliable way to load the cmdlets you need is to import them manually at the start of your PowerShell session.</span></span>

<span data-ttu-id="6ef46-136">Для загрузки модулей используется командлет **Import-Module**.</span><span class="sxs-lookup"><span data-stu-id="6ef46-136">You use the **Import-Module** cmdlet to load modules.</span></span> <span data-ttu-id="6ef46-137">У этого командлета много параметров, применяемых в различных ситуациях.</span><span class="sxs-lookup"><span data-stu-id="6ef46-137">This cmdlet has many parameters to handle a variety of situations.</span></span> <span data-ttu-id="6ef46-138">Например, он может загружать несколько модулей, конкретную версию модуля, часть модуля и т. д.</span><span class="sxs-lookup"><span data-stu-id="6ef46-138">For example, it can load multiple modules, a specific module version, part of a module, and so on.</span></span> <span data-ttu-id="6ef46-139">Чтобы загрузить один модуль полностью, применяется следующий простой синтаксис:</span><span class="sxs-lookup"><span data-stu-id="6ef46-139">To load the entirety of one module, the syntax is simply:</span></span>

```powershell
Import-Module <module-name>
```

> [!TIP]
> <span data-ttu-id="6ef46-140">Если вы часто работаете с Azure PowerShell, обратите внимание на два варианта автоматизации процесса загрузки модуля.</span><span class="sxs-lookup"><span data-stu-id="6ef46-140">If you find that you work with Azure PowerShell frequently, there are two ways you can automate the module-loading process.</span></span> <span data-ttu-id="6ef46-141">Добавьте запись в профиль PowerShell для импорта модуля Azure во время запуска или используйте последние версии PowerShell, которые автоматически загружают модуль, при использовании командлета.</span><span class="sxs-lookup"><span data-stu-id="6ef46-141">You can add an entry to your PowerShell profile to import the Azure module at startup or use the latest versions of PowerShell, which loads the containing module automatically when you use a cmdlet.</span></span>

### <a name="connect"></a><span data-ttu-id="6ef46-142">Подключение</span><span class="sxs-lookup"><span data-stu-id="6ef46-142">Connect</span></span>
<span data-ttu-id="6ef46-143">Так как вы работаете с локальной установкой Azure PowerShell, перед выполнением команд Azure вам потребуется пройти проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="6ef46-143">Since you are working with a local install of Azure PowerShell, you will need to authenticate before you can execute Azure commands.</span></span> <span data-ttu-id="6ef46-144">Командлет **Connect-AzureRmAccount** запрашивает учетные данные Azure, а затем подключается к вашей подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="6ef46-144">The **Connect-AzureRmAccount** cmdlet prompts for your Azure credentials and then connects to your Azure subscription.</span></span> <span data-ttu-id="6ef46-145">У него много необязательных параметров, но если вам нужен только интерактивный запрос, никакие параметры не требуются:</span><span class="sxs-lookup"><span data-stu-id="6ef46-145">It has many optional parameters, but if all you need is an interactive prompt, no parameters are needed:</span></span>

```powershell
Connect-AzureRmAccount
```

### <a name="create"></a><span data-ttu-id="6ef46-146">Создание</span><span class="sxs-lookup"><span data-stu-id="6ef46-146">Create</span></span>
<span data-ttu-id="6ef46-147">Чтобы создать группу ресурсов, используйте командлет **New-AzureRmResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="6ef46-147">The **New-AzureRmResourceGroup** cmdlet creates a resource group.</span></span> <span data-ttu-id="6ef46-148">Необходимо указать имя и расположение.</span><span class="sxs-lookup"><span data-stu-id="6ef46-148">You must specify a name and location.</span></span> <span data-ttu-id="6ef46-149">Имя должно быть уникальным в пределах вашей подписки.</span><span class="sxs-lookup"><span data-stu-id="6ef46-149">The name must be unique within your subscription.</span></span> <span data-ttu-id="6ef46-150">Расположение определяет место хранения метаданных для группы ресурсов (это может быть важно для обеспечения соответствия).</span><span class="sxs-lookup"><span data-stu-id="6ef46-150">The location determines where the metadata for your resource group will be stored (which may be important to you for compliance reasons).</span></span> <span data-ttu-id="6ef46-151">Чтобы указать расположение, используйте такие строки, как "Западная часть США", "Северная Европа" или "Западная Индия".</span><span class="sxs-lookup"><span data-stu-id="6ef46-151">You use strings like "West US", "North Europe", or "West India" to specify the location.</span></span> <span data-ttu-id="6ef46-152">Как и у большинства командлетов Azure, у командлета **New-AzureRmResourceGroup** есть много необязательных параметров, однако используется следующий основной синтаксис:</span><span class="sxs-lookup"><span data-stu-id="6ef46-152">As with most of the Azure cmdlets, **New-AzureRmResourceGroup** has many optional parameters; however, the core syntax is:</span></span>

```powershell
New-AzureRmResourceGroup -Name <name> -Location <location>
```

### <a name="verify"></a><span data-ttu-id="6ef46-153">Проверка</span><span class="sxs-lookup"><span data-stu-id="6ef46-153">Verify</span></span>
<span data-ttu-id="6ef46-154">Командлет **Get-AzureRmResource** выводит список ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="6ef46-154">The **Get-AzureRmResource** lists your Azure resources.</span></span> <span data-ttu-id="6ef46-155">Он полезен для проверки успешного создания группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6ef46-155">This is useful here to verify whether creation of the resource group was successful.</span></span>

```powershell
Get-AzureRmResource
```

<span data-ttu-id="6ef46-156">Чтобы получить более лаконичное представление, отправьте выходные данные командлета **Get-AzureRmResource** в командлет **Format-Table** с помощью вертикальной черты "|".</span><span class="sxs-lookup"><span data-stu-id="6ef46-156">To get a more concise view, you can send the output from the **Get-AzureRmResource** to the **Format-Table** cmdlet using a pipe '|'.</span></span>

```powershell
Get-AzureRmResource | Format-Table
```

## <a name="summary"></a><span data-ttu-id="6ef46-157">Сводка</span><span class="sxs-lookup"><span data-stu-id="6ef46-157">Summary</span></span>
<span data-ttu-id="6ef46-158">Интерактивный режим PowerShell подходит для выполнения разовых задач.</span><span class="sxs-lookup"><span data-stu-id="6ef46-158">PowerShell's interactive mode is appropriate for one-off tasks.</span></span> <span data-ttu-id="6ef46-159">В нашем примере мы будем использовать одну и ту же группу ресурсов в течение жизненного цикла проекта, а это значит, что ее целесообразно создать в интерактивном режиме.</span><span class="sxs-lookup"><span data-stu-id="6ef46-159">In our example, we'll use the same resource group for the lifetime of the project, which means creating it interactively is reasonable.</span></span> <span data-ttu-id="6ef46-160">Интерактивный режим зачастую оказывается более оперативным и простым, чем написание сценария и его однократное выполнение.</span><span class="sxs-lookup"><span data-stu-id="6ef46-160">Interactive mode is often quicker and easier for this task than writing a script and executing that script exactly once.</span></span>