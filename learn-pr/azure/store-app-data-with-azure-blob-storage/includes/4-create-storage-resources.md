Получив представление о том, как будут храниться данные в учетных записях хранения, контейнерах и больших двоичных объектах, можно подумать, какие ресурсы Azure потребуются для поддержки приложения.

### <a name="storage-accounts"></a>учетные записи хранения;

Создание учетной записи хранения — это мероприятие администрирования и управления, выполняемое до развертывания и запуска приложения. Учетные записи обычно создаются путем развертывания, с помощью сценария установки среды или шаблона Azure Resource Manager либо вручную администратором. Приложениям, отличным от средств администрирования, обычно не требуются разрешения на создание учетных записей хранения.

### <a name="containers"></a>Контейнеры

В отличие от создания учетной записи хранения, создание контейнера — это упрощенное действие, которое лучше всего выполнять в приложении. Довольно часто приложения создают и удаляют контейнеры в процессе работы.

Если предложение требует известного набора контейнеров с жестко заданными или предварительно настроенными именами, рекомендуется разрешить ему создавать необходимые контейнеры, если они еще не существуют, при запуске или при первом использовании. Если вместо того, чтобы создавать контейнеры в процессе развертывания, вы разрешите приложению создавать контейнеры самостоятельно, ни приложению, ни процессу развертывания имена используемых приложением контейнеров не потребуются.

## <a name="exercise"></a>Упражнение

Завершим незаконченное приложение ASP.NET Core, добавив код для использования хранилища BLOB-объектов Azure. Это упражнение относится больше к API хранилища BLOB-объектов, чем к разработке схемы для организации и именования, и все же вот краткие сведения об этом приложении и о том, как оно хранит данные:

**Снимок экрана приложения TODO, поскольку приложение можно будет запустить только в самом конце**

Наше приложение работает как папка общего доступа, которая принимает передаваемые файлы и делает их доступными для загрузки. Оно не использует для упорядочивания BLOB-объектов базу данных &mdash; вместо этого приложение очищает имена передаваемых файлов и использует их как имена BLOB-объектов. Все передаваемые файлы хранятся в одном контейнере.

Наш исходный код компилируется и работает, однако те его части, которые отвечают за хранение и загрузку данных, пусты. Когда код будет готов, мы развернем приложение в службе приложений Azure и протестируем его.

Настроим для нашего приложения инфраструктуру хранения данных.

### <a name="resource-group-and-storage-account"></a>Группа ресурсов и учетная запись хранения
Для начала создадим группу ресурсов, в которой будут находиться все ресурсы в этом упражнении. В конце мы ее удалим, чтобы стереть все, что мы насоздавали. Также мы создадим учетную запись хранения, которую наше приложение будет использовать для хранения больших двоичных объектов.

В терминале Azure Cloud Shell создайте группу ресурсов и учетную запись хранения, выполнив указанные ниже команды интерфейса командной строки Azure. Имя учетной записи хранения должно быть уникальным &mdash; запишите его для последующего использования. Выбирать `eastus` в качестве места расположения необязательно.

```console
az group create --name blob-exercise-group --location eastus
az storage account create --name <your-unique-storage-account-name> --resource-group blob-exercise-group --location eastus --kind StorageV2
```

**Представленный ниже список TODO должен находиться в модуле хранилища Azure**

> [!NOTE]
> Почему`--kind StorageV2`? Существует несколько разных видов учетных записей хранения. В большинстве случаев используются учетные записи хранения общего назначения версии 2 (с обозначением `StorageV2`). Здесь учетные записи хранения версии 2 указываются только потому, что пока остаются новинкой и еще не используются на портале или в интерфейсе командной строки Azure по умолчанию.

### <a name="container"></a>Контейнер
В приложении, с которым мы будем работать в этом модуле, используется один контейнер. Последуем общепринятым рекомендациям и позволим приложению создать контейнер при запуске. При этом контейнер можно также создать через интерфейс командной строки Azure: выполните команду `az storage container create -h` в терминале Cloud Shell, если хотите увидеть документацию.