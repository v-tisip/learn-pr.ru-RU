<span data-ttu-id="87da2-101">После знакомства с доступными вычислительными службами Azure мы рассмотрим каждую из них более подробно, чтобы понимать, в каких ситуациях их нужно использовать.</span><span class="sxs-lookup"><span data-stu-id="87da2-101">Now that you've been introduced to the Azure compute services available, let's look at each in turn to help you decide when to use each service.</span></span>

## <a name="azure-virtual-machines"></a><span data-ttu-id="87da2-102">Виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="87da2-102">Azure virtual machines</span></span>

<span data-ttu-id="87da2-103">Если требуется полный контроль над операционной системой и средой, в этом случае идеальным вариантом будут виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="87da2-103">When full control over the operating system and environment is required, virtual machines are an ideal choice.</span></span> <span data-ttu-id="87da2-104">Вы сможете настраивать все программное обеспечение, работающее на виртуальной машине, так же, как на физическом компьютере.</span><span class="sxs-lookup"><span data-stu-id="87da2-104">You're able to customize all of the software running on the VM, just like a physical computer.</span></span> <span data-ttu-id="87da2-105">Это оптимальное решение при использовании настраиваемого программного обеспечения или настраиваемых конфигураций размещения.</span><span class="sxs-lookup"><span data-stu-id="87da2-105">This is ideal when running custom software or custom hosting configurations.</span></span>

<span data-ttu-id="87da2-106">Кроме того, виртуальные машины прекрасно подходят при переходе с физического сервера в облако.</span><span class="sxs-lookup"><span data-stu-id="87da2-106">VMs are also an excellent choice when moving from a physical server to the cloud.</span></span> <span data-ttu-id="87da2-107">Вы можете создать образ физического сервера и разместить его на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="87da2-107">You can often create an image of the physical server and host it within a virtual machine.</span></span> <span data-ttu-id="87da2-108">При этом вы получаете полную свободу выбора операционных систем и сред выполнения приложений, а это значит, что разработку можно вести практически на любом языке и с помощью выбранных вами инструментов.</span><span class="sxs-lookup"><span data-stu-id="87da2-108">This gives you complete freedom to choose operating systems and application execution environments, meaning you can develop in almost any language that uses the tools of your choice.</span></span>

<span data-ttu-id="87da2-109">Однако вам придется обслуживать виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="87da2-109">However, you'll be required to maintain the virtual machine.</span></span> <span data-ttu-id="87da2-110">Вам потребуется обновлять ее операционную систему и программное обеспечение.</span><span class="sxs-lookup"><span data-stu-id="87da2-110">This means updating the operating system and the software it runs.</span></span> 

<span data-ttu-id="87da2-111">Кроме того, вы будете учитывать ряд определенных факторов при масштабировании.</span><span class="sxs-lookup"><span data-stu-id="87da2-111">It also requires more consideration when scaling.</span></span> <span data-ttu-id="87da2-112">Вы можете увеличить масштаб виртуальной машины, добавив дополнительные вычислительные ресурсы и память.</span><span class="sxs-lookup"><span data-stu-id="87da2-112">You can scale up the virtual machine, meaning you can add more compute and memory resources.</span></span> <span data-ttu-id="87da2-113">Но если необходимо запустить несколько экземпляров одновременно, может потребоваться добавить дополнительные службы, такие как балансировщики нагрузки.</span><span class="sxs-lookup"><span data-stu-id="87da2-113">But if you need to run multiple instances in parallel, you may need to add additional services, such load balancers.</span></span>

<span data-ttu-id="87da2-114">Представьте, что у вас запущен веб-сайт, на котором размещено приложение для розничного магазина.</span><span class="sxs-lookup"><span data-stu-id="87da2-114">Imagine you're running a website that hosts a retail website.</span></span> <span data-ttu-id="87da2-115">При создании дубликата виртуальной машины вам потребуется дополнительная служба для перенаправления запросов между несколькими экземплярами виртуальных машин веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="87da2-115">If you duplicated the VM, you'd need an additional service to route requests between multiple instances of the website VM.</span></span>

<span data-ttu-id="87da2-116">В Azure также доступны расширенные службы для виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="87da2-116">There are also advanced virtual machine services available in Azure:</span></span>

* <span data-ttu-id="87da2-117">Для запуска постоянно доступных экземпляров одного приложения или наборов приложений на одинаково настроенных виртуальных машинах можно использовать **масштабируемые наборы виртуальных машин**.</span><span class="sxs-lookup"><span data-stu-id="87da2-117">For running consistently available instances of the same app, or sets of apps, on similarly configured VMs, use the **Virtual Machine Scale Sets** option.</span></span> <span data-ttu-id="87da2-118">В этом случае происходит автоматическое создание тысяч идентичных виртуальных машин, загружаемых с приложением за считанные минуты, поэтому пользователям никогда не придется ждать.</span><span class="sxs-lookup"><span data-stu-id="87da2-118">It automatically generates thousands of identical VMs loaded with your application in minutes, so your users never have to wait.</span></span> <span data-ttu-id="87da2-119">А поскольку предварительная подготовка виртуальных машин не требуется, вы используете только необходимые приложению вычислительные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="87da2-119">And, since you don't have to pre-provision virtual machines, you use only the compute resources your application needs at any time.</span></span>

* <span data-ttu-id="87da2-120">Возможны ситуации, в которых не обойтись без огромной вычислительной мощности или вычислительной мощности на уровне суперкомпьютера.</span><span class="sxs-lookup"><span data-stu-id="87da2-120">There may be situations in which you need raw computing power or supercomputer level compute power.</span></span> <span data-ttu-id="87da2-121">**Пакетная служба** позволяет планировать выполнение заданий в масштабе облака и управлять вычислительными ресурсами с возможностью масштабирования до десятков, сотен или тысяч виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="87da2-121">The **Batch** option provides cloud-scale job scheduling and compute management with the ability to scale to tens, hundreds, or thousands of VMs.</span></span> <span data-ttu-id="87da2-122">Можно даже настроить виртуальные машины с возможностями суперкомпьютера.</span><span class="sxs-lookup"><span data-stu-id="87da2-122">You can even specify VMs with supercomputer capabilities.</span></span>

## <a name="azure-containers"></a><span data-ttu-id="87da2-123">Контейнеры Azure</span><span class="sxs-lookup"><span data-stu-id="87da2-123">Azure containers</span></span>

<span data-ttu-id="87da2-124">Контейнеры являются прекрасным вариантом, если нужно запустить несколько экземпляров приложения на одной виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="87da2-124">Containers are an excellent choice if you wish to run multiple instances of an application on a single virtual machine.</span></span> <span data-ttu-id="87da2-125">При необходимости оркестратор контейнеров запускает, останавливает и масштабирует экземпляры приложения.</span><span class="sxs-lookup"><span data-stu-id="87da2-125">The container orchestrator can start, stop, and scale out application instances as needed.</span></span>

<span data-ttu-id="87da2-126">Однако обычно контейнеры применяются для создания решений, использующих архитектуру микрослужб.</span><span class="sxs-lookup"><span data-stu-id="87da2-126">However, containers are commonly used to create solutions using a microservice architecture.</span></span> <span data-ttu-id="87da2-127">Контейнеры часто используются для разделения решения на более мелкие части.</span><span class="sxs-lookup"><span data-stu-id="87da2-127">Containers are often used to break solutions into smaller pieces.</span></span> <span data-ttu-id="87da2-128">Например, веб-сайт можно разделить на контейнер для размещения интерфейсной части, на контейнер для размещения серверной части и на контейнер для хранилища.</span><span class="sxs-lookup"><span data-stu-id="87da2-128">For example, you may split a website into a container hosting your front end, another hosting your back end, and a third for storage.</span></span> <span data-ttu-id="87da2-129">Это позволяет выделить части приложения в логические разделы с независимым обслуживанием, масштабируемостью и обновлением.</span><span class="sxs-lookup"><span data-stu-id="87da2-129">This allows you to separate portions of your app into logical sections that can be maintained, scaled, or updated independently.</span></span>

<span data-ttu-id="87da2-130">Допустим, объем серверной части веб-сайта достиг предельной емкости, но внешний интерфейс и хранилище не испытывают недостатка ресурсов.</span><span class="sxs-lookup"><span data-stu-id="87da2-130">Imagine your website back end has reached capacity but the front end and storage aren't being stressed.</span></span> <span data-ttu-id="87da2-131">Чтобы повысить производительность сайта, вы можете добавить ресурсы только для серверной части.</span><span class="sxs-lookup"><span data-stu-id="87da2-131">You could scale the back end separately to improve performance.</span></span> <span data-ttu-id="87da2-132">Или можно выбрать другую службу хранения.</span><span class="sxs-lookup"><span data-stu-id="87da2-132">Or you could decide to use a different storage service.</span></span> <span data-ttu-id="87da2-133">Либо можно заменить контейнер хранилища, не затрагивая остальную часть приложения.</span><span class="sxs-lookup"><span data-stu-id="87da2-133">Or you could replace the storage container without affecting the rest of the application.</span></span>

 <span data-ttu-id="87da2-134">Если ваша команда уже знакома с использованием оркестрации контейнеров Kubernetes, обратите внимание на вариант со **службой Azure Kubernetes (AKS)**.</span><span class="sxs-lookup"><span data-stu-id="87da2-134">If your team is comfortable with using Kubernetes container orchestration, consider the **Azure Kubernetes Service (AKS)** option.</span></span> <span data-ttu-id="87da2-135">Она упрощает и автоматизирует операции развертывания, функционирования оркестрации Kubernetes и управления ей.</span><span class="sxs-lookup"><span data-stu-id="87da2-135">It simplifies and automates the management, deployment, and operations of Kubernetes orchestration.</span></span>

## <a name="azure-functions"></a><span data-ttu-id="87da2-136">Функции Azure</span><span class="sxs-lookup"><span data-stu-id="87da2-136">Azure functions</span></span>

<span data-ttu-id="87da2-137">Функции Azure подходят в том случае, если для вас важен только код для службы, но не базовая платформа или инфраструктура.</span><span class="sxs-lookup"><span data-stu-id="87da2-137">Azure functions are ideal when you're concerned only about the code running your service, and not the underlying platform or infrastructure.</span></span> <span data-ttu-id="87da2-138">Как правило, они используются для выполнения действий в ответ на событие, часто с помощью запроса REST, таймера или сообщения из другой службы Azure, а также в ситуациях, предполагающих быстрое решение этой задачи, — в течение нескольких секунд или меньше.</span><span class="sxs-lookup"><span data-stu-id="87da2-138">They're commonly used when you need to perform work in response to an event, often via a REST request, timer, or message from another Azure service and when that work can be completed quickly, within seconds or less.</span></span>

<span data-ttu-id="87da2-139">Функции Azure масштабируется автоматически, поэтому они отлично подходят, если запросы постоянно меняются. Кроме того, плата взимается только при активации функции.</span><span class="sxs-lookup"><span data-stu-id="87da2-139">Azure functions scale automatically, so they're an excellent choice when demand is variable, and you're charged only when a function is triggered.</span></span> <span data-ttu-id="87da2-140">Например, вы можете получать сообщения из решения Интернета вещей, используемого для отслеживания парка средств доставки.</span><span class="sxs-lookup"><span data-stu-id="87da2-140">For example, you may be receiving messages from an IoT solution used to monitor a fleet of delivery vehicles.</span></span> <span data-ttu-id="87da2-141">Скорее всего, максимальный объем данных будет поступать в рабочее время.</span><span class="sxs-lookup"><span data-stu-id="87da2-141">You'll likely have more data arriving during business hours.</span></span>

<span data-ttu-id="87da2-142">Функции Azure не учитывают состояние. Они работают так, как если бы перезапускались при каждом ответе на событие.</span><span class="sxs-lookup"><span data-stu-id="87da2-142">Azure functions are stateless; they behave as if they're restarted every time they respond to an event.</span></span> <span data-ttu-id="87da2-143">Это поведение идеально подходит для обработки входящих данных.</span><span class="sxs-lookup"><span data-stu-id="87da2-143">This is ideal for processing incoming data.</span></span> <span data-ttu-id="87da2-144">А если требуется отслеживание состояния, функции можно подключить к службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="87da2-144">And if state is required, they can be connected to an Azure storage service.</span></span>
